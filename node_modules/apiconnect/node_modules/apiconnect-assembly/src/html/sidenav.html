<md-sidenav
  md-component-id="assembly-info"
  data-ng-class="{
    'pinned': assemblyInfoPinned,
    'maximized': assemblyInfoMaximized,
    'doubleWidth': selectedNode.$$type === 'map'
  }"
  md-is-locked-open="assemblyInfoPinned"
  data-ng-keydown="keyDown($event)"
  class="assemblyInfoSection md-sidenav-right"
>
  <div class="assemblyInfo">
    <div
      class="infoView {{selectedNode.$$type}} {{selectedNode.selectedApplication.name}} {{selectedNode.$$classes.join(' ')}}"
      data-ng-if="selectedNode"
      data-ng-controller="AssemblerInfoController"

    >
      <div ng-if="!isFlowSlim()" class="header" layout="row" layout-align="center center">
        <div
          data-ng-if="!isAppConnect()"
          data-ng-class="{'material-icons': (selectedNode | iconForNode)}" class="iconShell"
          ng-attr-style="background-color: {{selectedNode.$$display.color}}"
        >
          <div class="iconInnerShell">{{selectedNode | iconForNode}}</div>
        </div>
        <div class="assembly-info__content-container" flex layout="row" layout-align="start center">
          <div ng-if="isAppConnect()" class="iconShell" data-ng-class="{'node--has-application': selectedNode.selectedApplication && selectedNode.selectedApplication.name}">
            <md-icon class="iconInnerShell" md-svg-icon="{{selectedNode | iconForNode}}"></md-icon>
          </div>
          <div class="assembly-info__node-info" layout="column" flex layout-align="center start">
            <span class="policyName boundedText">{{selectedNode | policyDisplayName}}</span>
            <span class="assembly-info__account-name" ng-if="selectedNode.accountName && isAppConnect()">{{selectedNode.accountName}}</span>
          </div>
        </div>
        <div class="assembly-info__control-buttons" layout="row" layout-align="end center">
          <button
            class="iconOnlyButton material-icons togglePanelPosition"
            data-ng-click="toggleInfoPanelBottom($event);"
            title="{{::'assembly-move-panel' | translate}}"
            aria-label="{{::'assembly-move-panel' | translate}}"
          >screen_rotation</button>
          <button
            class="iconOnlyButton material-icons jumpToCode"
            data-ng-show="!selectedNode.$$readOnly && !selectedNode.$$parentReadOnly"
            data-ng-click="jumpToCode(selectedNode.$$type, selectedNode.$$instance);"
            title="{{::'assemblyJumpToSource' | translate}}"
            aria-label="{{::'assemblyJumpToSource' | translate}}"
          >code</button>
          <button
            class="iconOnlyButton material-icons maximizeInfo"
            data-ng-click="maximizeAssemblyInfo($event);"
            title="{{::'assemblyMaximize' | translate}}"
            aria-label="{{::'assemblyMaximize' | translate}}"
          >{{assemblyInfoMaximized | assemblyInfoMaximizeLabel}}</button>
          <button
            class="iconOnlyButton material-icons closeInfo"
            data-ng-click="closeInfo($event);"
            title="{{::'assemblyCloseInfo' | translate}}"
            aria-label="{{::'assemblyCloseInfo' | translate}}"
          >close</button>
        </div>
      </div>
      <div
        data-ng-include
        src="scope.config.html + getPolicyPartial(selectedNode.$$type, selectedNode.version)"
        class="policyPartial"
      ></div>
    </div>
  </div>
</md-sidenav>
