<span class="expression-clause operation-clause" data-ng-if="isOperation">
	<span class="button-panel" style="float: left;">
		<button data-ng-if="!expanded" data-ng-click="expand(true);" class="iconOnlyButton material-icons">expand_more</button><button data-ng-if="expanded" data-ng-click="expand(false);" class="iconOnlyButton material-icons">expand_less</button>
	</span>
	<span data-ng-click="expand(!expanded);">{{operationString}}</span>
	<span class="button-panel">
		<button data-ng-click="deleteExpression(expression);" class="iconOnlyButton material-icons">delete</button>
	</span>
</span>
<span data-ng-if="!expression.$$edit && (!isOperation || expanded)">
	<span data-ng-if="expression.type == 'Literal'">
		<span>{{expression.raw}}</span>
	</span>
	<span data-ng-if="expression.type == 'Identifier'">
		<span>{{expression.name}}</span>
	</span>
	<span class="expression-clause binary-expression" data-ng-if="expression.type == 'BinaryExpression'">
		<apic-condition-expression-left data-ng-click="$parent.expression.$$edit = true;"></apic-condition-expression-left><span data-ng-click="$parent.expression.$$edit = true;">{{expression.operator}}</span><apic-condition-expression-right data-ng-click="$parent.expression.$$edit = true;"></apic-condition-expression-right>
		<span class="button-panel">
			<button data-ng-click="insertLogicalExpression('||');" class="iconOnlyButton material-icons">add_circle_outline</button><button data-ng-click="expression.$$edit = true;" class="iconOnlyButton material-icons">edit</button><button data-ng-click="deleteExpression(expression);" class="iconOnlyButton material-icons">delete</button>
		</span>
	</span>
	<span data-ng-if="expression.type == 'CallExpression'" class="call-expression">
		<span>{{expression.callee.name}}(</span><span data-ng-repeat="expression in expression.arguments" class="argument">
			<apic-condition-expression></apic-condition-expression><span class="argument-separator">,</span>
		</span><span>)</span>
	</span>
	<span data-ng-if="expression.type == 'MemberExpression'">
		<span>{{expression.object.name}}.{{expression.property.name}}</span>
	</span>
	<span class="expression-clause expression-group" data-ng-if="expression.type == 'LogicalExpression'">
		<apic-condition-expression-left></apic-condition-expression-left><button class="operator" data-ng-if="expression.operator == '&&'" data-ng-click="changeOperator('||');">AND</button><button class="operator" data-ng-if="expression.operator == '||'" data-ng-click="changeOperator('&&');">OR</button><apic-condition-expression-right class="expression-right"></apic-condition-expression-right>
		<div class="button-panel">
			<button data-ng-click="insertLogicalExpression('||');" class="iconOnlyButton material-icons">add_circle_outline</button>
		</div>

	</span>
</span>
<span data-ng-if="expression.$$edit && (!isOperation || expanded)" class="expression-editor">
	<input data-ng-model="$parent.expressionString" data-ng-model-options="{debounce: 200}" style="width: 90%; margin: 8px;"/>
	<span class="button-panel">
		<button data-ng-click="commitExpression();" class="iconOnlyButton material-icons">done</button>
	</span>
</span>
<!--div class="button-panel" data-ng-if="expression.type == 'LogicalExpression'">
    <md-menu>
      <button aria-label="{{'addExpression' | translate}}" class="iconOnlyButton material-icons" ng-click="$mdOpenMenu($event);">add_circle_outline</button>
      <md-menu-content width="4">
        <md-menu-item>
          <a href="javascript:;" data-ng-click="insertLogicalExpression('||')">{{'addLogicalExpression' | translate}}</a>
        </md-menu-item>
      </md-menu-content>
    </md-menu>
</div-->