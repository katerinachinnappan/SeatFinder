/********************************************************* {COPYRIGHT-TOP} ***
 * Licensed Materials - Property of IBM
 * 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
 *
 * (C) Copyright IBM Corporation 2017
 *
 * All Rights Reserved.
 * US Government Users Restricted Rights - Use, duplication or disclosure
 * restricted by GSA ADP Schedule Contract with IBM Corp.
 ********************************************************** {COPYRIGHT-END} **/
// Node module: apiconnect-config-to-datapower


'use strict';

const fs = require('fs');
const path = require('path');
const hbs = require('handlebars');

let actions = {};
fs.readdirSync(__dirname)
  .filter(function(filename) { return filename.match(/\.hbs$/); })
  .forEach(function(filename) {
    let m = filename.match(/^(.+)\.hbs$/);
    if (!m) return;
    actions[m[1]] = true;
    hbs.registerPartial(path.basename(filename, '.hbs'),
      fs.readFileSync(__dirname + '/' + filename, 'utf-8'));
  });

exports.exists = function(name) {
  return actions[name];
};

exports.list = function() {
  return Object.keys(actions);
};
