{{!--
/********************************************************* {COPYRIGHT-TOP} ***
  * Licensed Materials - Property of IBM
  * 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
  *
  * (C) Copyright IBM Corporation 2017
  *
  * All Rights Reserved.
  * US Government Users Restricted Rights - Use, duplication or disclosure
  * restricted by GSA ADP Schedule Contract with IBM Corp.
  ********************************************************** {COPYRIGHT-END} **/
--}}

{{#each conditions}}
{{#each rule.actions}}
{{> (-deref-action this)}}

{{/each}}

api-rule {{rule._name}}
  reset
  {{#each rule.actions}}
  action {{_name}}
  {{/each}}
exit

{{/each}}

{{#each otherwiseRule.actions}}
{{> (-deref-action this)}}
{{/each}}

{{#if otherwiseRule}}
api-rule {{otherwiseRule._name}}
  reset
  {{#each otherwiseRule.actions}}
  action {{_name}}
  {{/each}}
exit
{{/if}}

assembly-switch {{_name}}
  reset
  {{#if title}}summary "{{{-add-escape title}}}"{{/if}}
  {{#each conditions}}
  case "{{{-add-escape condition}}}" {{rule._name}}
  {{/each}}
  {{#if otherwiseRule}}
  otherwise {{otherwiseRule._name}}
  {{/if}}
exit
