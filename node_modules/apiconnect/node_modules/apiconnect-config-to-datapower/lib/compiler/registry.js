/********************************************************* {COPYRIGHT-TOP} ***
 * Licensed Materials - Property of IBM
 * 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
 *
 * (C) Copyright IBM Corporation 2017
 *
 * All Rights Reserved.
 * US Government Users Restricted Rights - Use, duplication or disclosure
 * restricted by GSA ADP Schedule Contract with IBM Corp.
 ********************************************************** {COPYRIGHT-END} **/
// Node module: apiconnect-config-to-datapower

'use strict';
const coname = require('./coname');

module.exports = exports = function(registry, options) {
  // TODO: the APILDAPRegistry co might need to redesign to align with
  //       APIC configuration
  function LdapRegistry() {
    this._name = coname.registry(options, registry.name);
    Object.assign(this, registry);
    if (this['ldap-config'] && this['ldap-config']['tls-profile']) {
      this['ldap-config']['tls-profile'] =
        coname.tlsProfile(options, this['ldap-config']['tls-profile']);
    }
  }

  return new LdapRegistry();
};
