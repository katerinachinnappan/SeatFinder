/********************************************************* {COPYRIGHT-TOP} ***
 * Licensed Materials - Property of IBM
 * 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
 *
 * (C) Copyright IBM Corporation 2016, 2017
 *
 * All Rights Reserved.
 * US Government Users Restricted Rights - Use, duplication or disclosure
 * restricted by GSA ADP Schedule Contract with IBM Corp.
 ********************************************************** {COPYRIGHT-END} **/
// Node module: apiconnect-cli-auth

/**
 * Compare 2 version string
 *
 * @param {String} [v1] version string in format a.b.c
 * @param {String} [v2] version string in format a.b.c
 * Return 1 if v1 > v2
 * Return -1 if v1 < v2
 * Return 0 if v1 == v2
 */

function compareVersion(v1, v2) {
  if (v1 === v2) {
    return 0;
  }
  var v1Numbers = v1.split('.');
  var v2Numbers = v2.split('.');

  var len = Math.max(v1Numbers.length, v2Numbers.length);
  // compare the number list
  for (var i = 0; i < len; i++) {
    // v1 contains v2 or newer than v2
    if ((v1Numbers[i] && !v2Numbers[i]) ||
      parseInt(v1Numbers[i], 10) > parseInt(v2Numbers[i], 10)) {
      return 1;
    }
    // v2 contain v1 or newer than v1
    if ((!v1Numbers[i] && v2Numbers[i]) ||
      parseInt(v1Numbers[i], 10) < parseInt(v2Numbers[i], 10)) {
      return -1;
    }
  }
  return 0;
}
exports.compareVersion = compareVersion;

