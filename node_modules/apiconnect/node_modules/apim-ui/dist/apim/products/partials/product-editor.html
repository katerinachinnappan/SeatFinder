<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<div class="detailsEditor" data-ng-class="{'permissionPlansEdit' : editable}" data-ng-controller="ProductVisualEditorController">
  <div class="bx--module--full bx--module__overflow">
    <div class="navigate-info">
      <div class="bx--module__header">
        <span class="bx--form__legend" in-view="setSelectedPath($inview, 'info', 1)">
          {{::'product_info' | translate}}</span>
      </div>
      <div class="bx--form__fieldset bx--module__body">
        <bx-input-container>
          <label for="{{$id}}_name" class="title">{{::'apiShortName' | translate}}</label>
          <input required="true" id="{{$id}}_name" data-ng-readonly="!editable" data-ng-maxlength="100" data-ng-model="product.info.title" />
        </bx-input-container>
        <bx-input-container>
          <label class="title" for="{{$id}}_productName">{{::'product_name' | translate}}</label>
          <input required="true" id="{{$id}}_productName" data-ng-model="product.info.name" data-ng-pattern="/^[a-z]+[a-z0-9]*(\-[a-z0-9]+)*$/" ng-trim="false" />
        </bx-input-container>
        <bx-input-container>
          <label for="{{$id}}_version" class="title">{{::'realVersion' | translate}}</label>
          <input required="true" id="{{$id}}_version" data-ng-readonly="!editable" data-ng-maxlength="100" data-ng-model="product.info.version" />
        </bx-input-container>
        <bx-input-container>
          <label for="{{$id}}_description" class="title">{{::"apiDesc" | translate}}</label>
          <button class="textOnlyButton" data-ng-disabled="!descriptionPreviewMode" data-ng-click="descriptionPreviewMode = false;">{{::'api_description_edit' | translate}}</button>
          <button class="textOnlyButton" data-ng-disabled="descriptionPreviewMode" data-ng-click="descriptionPreviewMode = true;">{{::'api_description_preview' | translate}}</button>
          <a class="material-icons alignMiddle" style="font-size: medium; margin: -3px 0px 0px 5px;" title="{{::'api_description_markdown_help' | translate}}" href="https://help.github.com/articles/basic-writing-and-formatting-syntax/" target="_blank">info_outline</a>
          <div class="clearBoth"></div>
          <textarea class="bx--textarea__input bx--textarea__limit" id="{{$id}}_description" data-ng-if="!descriptionPreviewMode || !editable" data-ng-model="product.info.description"></textarea>
          <div class="markdownPreview" data-ng-if="descriptionPreviewMode && editable" data-ng-bind-html="product.info.description | markdown"></div>
        </bx-input-container>
      </div>
    </div>
  </div>
  <div class="navigate-info-contact bx--module--full bx--module__overflow">
    <div class="bx--module__header">
      <span class="bx--form__legend" in-view="setSelectedPath($inview, 'info-contact', 2)">
          {{::'product_contact_information' | translate}}</span>
    </div>
    <div class="bx--form__fieldset bx--module__body">
      <bx-input-container>
        <label for="{{$id}}_contactName">{{::'product_contact_name' | translate}}</label>
        <input id="{{$id}}_contactName" data-ng-model="product.info.contact.name" />
      </bx-input-container>
      <bx-input-container>
        <label for="{{$id}}_contactEmail">{{::'product_contact_email' | translate}}</label>
        <input type="email" id="{{$id}}_contactEmail" data-ng-model="product.info.contact.email" />
      </bx-input-container>
      <bx-input-container>
        <label for="{{$id}}_contactUrl">{{::'product_contact_url' | translate}}</label>
        <input type="url" id="{{$id}}_contactUrl" data-ng-model="product.info.contact.url" />
      </bx-input-container>
    </div>
  </div>
  <div class="navigate-info-license bx--module--full bx--module__overflow">
    <div class="bx--module__header">
      <span class="bx--form__legend" in-view="setSelectedPath($inview, 'info-license', 3)">
          {{::'product_license' | translate}}</span>
    </div>
    <div class="bx--form__fieldset bx--module__body">
      <bx-input-container>
        <label for="{{$id}}_license_name">{{::'product_license_name' | translate}}</label>
        <input id="{{$id}}_license_name" data-ng-model="product.info.license.name" />
      </bx-input-container>
      <bx-input-container>
        <label for="{{$id}}_license_url">{{::'product_license_url' | translate}}</label>
        <input type="url" id="{{$id}}_license_url" data-ng-model="product.info.license.url" />
      </bx-input-container>
    </div>
  </div>
  <div class="navigate-info-termsOfService bx--module--full bx--module__overflow">
    <div class="bx--module__header">
      <span class="bx--form__legend" in-view="setSelectedPath($inview, 'info-termsOfService', 4)">
          {{::'product_terms_of_service' | translate}}</span>
    </div>
    <div class="bx--form__fieldset bx--module__body">
      <bx-input-container class="productTerms">
        <label for="{{$id}}_terms">{{::'product_terms_of_service' | translate}}</label>
        <textarea class="bx--textarea__input bx--textarea__limit" id="{{$id}}_terms" data-ng-model="product.info.termsOfService"></textarea>
      </bx-input-container>
    </div>
  </div>

  <div class="navigate-visibility bx--module--full secondaryBorder bx--module__overflow" data-ng-controller="ProductVisibilityEditor">
    <div class="bx--module__header">
      <span class="bx--form__legend" in-view="setSelectedPath($inview, 'visibility', 5)">
          {{::'product_settings_default_visibility_label' | translate}}</span>
    </div>
    <div class="bx--form__fieldset bx--module__body">
      <apim-visibility-settings></apim-visibility-settings>
    </div>
  </div>
  <div class="navigate-apis bx--module--full secondaryBorder bx--module__overflow">
    <div class="bx--module__header">
      <span class="bx--form__legend" in-view="setSelectedPath($inview, 'apis', 6)">
          {{::'apis' | translate}}</span>
    </div>
    <div class="floatRight" style="margin: -52px 10px 0 0;">
      <button data-ng-disabled="!editable" data-ng-click="selectAPIs()" class="iconOnlyButton" title="{{::'product_api_add' | translate}}" aria-label="{{::'product_api_add' | translate}}">
        <div class="material-icons">add_circle_outline</div>
      </button>
    </div>

    <div class="bx--module__body">
      <div class="apisSection secondaryBorder all" style="margin:10px 0px;">
        <div class="loadingAnimation38" data-ng-show="xhrProcessing" style="margin-bottom:20px;"></div>
        <ul class="simpleList" data-ng-if="!xhrProcessing && hasApis()">
          <li data-ng-repeat="(apiName, api) in product.apis" class="navigate-apis-{{::getApiKey(api)}}" in-view="setSelectedPath($inview, 'apis-' + getApiKey(api), 10001 + $index)">
            <apim-product-api-editor></apim-product-api-editor>
          </li>
        </ul>
        <div class='emptyCollectionMessage padding10' data-ng-if="!xhrProcessing && !hasApis()">{{::'product_no_apis_added' | translate}}</div>
      </div>
    </div>
  </div>
  <div class="navigate-plans bx--module--full secondaryBorder bx--module__overflow">
    <div class="bx--module__header">
      <span class="bx--form__legend" in-view="setSelectedPath($inview, 'plans', 100000)">
          {{::'plans' | translate}}</span>
    </div>
    <div class="floatRight" style="margin: -52px 10px 0 0;">
      <button data-ng-disabled="!editable" data-ng-click="createPlan()" class="iconOnlyButton" title="{{::'product_plan_add' | translate}}" aria-label="{{::'product_plan_add' | translate}}">
        <div class="material-icons">add_circle_outline</div>
      </button>
    </div>
    <div class="bx--module__body">
      <ul class="simpleList" data-ng-if="!xhrProcessing">
        <li data-ng-repeat="(planName, plan) in product.plans" class="navigate-plans-{{planName}}" in-view="setSelectedPath($inview, 'plans-' + planName, 100001 + $index)">
          <apim-product-plan-editor></apim-product-plan-editor>
        </li>
        <li>
          <section class="planDropzone" data-ui-on-drop="planDropped($data, node, $index)"></section>
        </li>
      </ul>
      <div class="emptyCollectionMessage xlargePadding" data-ng-if="!xhrProcessing && zeroPlans()">{{::'product_no_plans_added' | translate}}</div>
    </div>
  </div>
  <div class="navigate-categories bx--module--full">
    <div data-ng-controller="ProductCategoriesController">
      <div class="bx--module__header">
        <span class="bx--form__legend" in-view="setSelectedPath($inview, 'categories', 200000)">
          {{::'product_categories' | translate}}</span>
      </div>
      <div class="bx--module__body">{{::'product_categories_description' | translate}}</div>
      <div class="bx--module__body editorContent categoryList">
        <label for="{{$id}}_categoryList">{{::'product_category_list_title' | translate}}</label>
        <textarea class="bx--textarea__input bx--textarea__limit" id="{{$id}}_categoryList" data-ng-model="$categories" data-ng-model-options="{getterSetter:true, debounce:500}"></textarea>
      </div>
    </div>
  </div>
</div>
