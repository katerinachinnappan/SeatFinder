<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<div class="webapi">
<section apic-save-key="saveRole()" class="environmentsCollection centerColumn absolutelyFabulous" data-ng-controller="RolesController as rolesController">
	<div data-ng-class="{'spinner': !rolesLoaded}"></div>
	<div data-ng-show="rolesLoaded" class="roles-admin-editor">
		<div class="actionSection apiSelfClear">
			<span class="actionLabel">{{::'userRoles' | translate}}</span>
			<div class="buttonArea">
        <button class="bx--btn" role="button" title="{{::'addRoleTitle' | translate}}" data-ng-click="addRole()" data-ng-disabled="!roles.$resolved" data-ng-show="permissions['org_organizationManagement/manage']">
          {{::'add' | translate}}
          <bx-icon class="bx--btn--right-icon__icon" icon="add--glyph"></bx-icon>
        </button>
				<button class="highVisButton iconOnlyButton material-icons" title="{{::'saveRolesTitle' | translate}}" data-ng-click="saveRoles()" data-ng-disabled="saveDisabled" data-ng-show="permissions['org_organizationManagement/manage']">save</button>
			</div>
		</div>
	    <div class="leftColumnSize whiteBackground stretch bx--left-nav-roles">
            <ul class="environments" style="margin: 0;">
                <li data-ng-repeat="role in roles" data-ng-init="$parent.selectedRole = roles[0]">
                    <div class="roleList">
                        <div tabindex="0" class="roleListItem" data-ng-class="{selected: $parent.selectedRole.id == role.id}" data-ng-keypress="selectRole(role)" data-ng-click="selectRole(role)">
                            <div class="dijitInline" style="width: calc(100% - 34px);">
                                <hgroup>
                                    <h4 class="displayName">{{role.displayName}}</h4>
                                    <h6 class="description">{{role.description}}</h6>
                                </hgroup>
                            </div>
                            <div class="dijitInline floatRight" data-ng-show="permissions['org_organizationManagement/manage'] && role.removable">
                                <button class="iconOnlyButton roleListDeleteButton" title="{{::'ttDelete' | translate}}" data-ng-disabled="beingDeleted" data-ng-click="confirmDeleteRole($index)"><div class="material-icons">delete</div></button>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
	    </div><div class="dijitInline detailsPage">
            <apim-role data-ng-show="roles.length > 0"></apim-role>
        </div>
    </div>
</section>
</div>
