/********************************************************* {COPYRIGHT-TOP} ***
 * Licensed Materials - Property of IBM
 * 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
 *
 * (C) Copyright IBM Corporation 2016, 2017
 *
 * All Rights Reserved.
 * US Government Users Restricted Rights - Use, duplication or disclosure
 * restricted by GSA ADP Schedule Contract with IBM Corp.
 ********************************************************** {COPYRIGHT-END} **/
// Node module: apim-ui

'use strict';

/* Services */

var components = angular.module('apim.components');

components.filter('referenceName', function() {
  return function (references, query) {
    if(!references) return Object.keys(references);
    if(!query) return Object.keys(references);
    var term = query.toLowerCase();
    return Object.keys(references).filter(function(reference) {
      if (reference.toLowerCase().indexOf(term) > -1) return true;
      return false;
    });
  };
});

components.filter('componentName', function() {
  return function (components, query) {
    if(!components) return components;
    if(!query) return components;
    var term = query.toLowerCase();
    return components.filter(function(component) {
      if (component.info.title.toLowerCase().indexOf(term) > -1) return true;
      if (component.info.version.toLowerCase().indexOf(term) > -1) return true;
      return false;
    });
  };
});

components.filter('noComponents', ['translateFilter', function(translateFilter) {
  return function (components) {
    if (!components || components.length == 0) return translateFilter('components_no_components_found');
    return translateFilter('components_no_matching_components');
  };
}]);

