<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<div apic-save-key="saveComponent()">
    <div class="bannerActions" data-ng-show="!xhrProcessing">
        <div class="dijitInline contentBox" data-ng-if="validationErrors && validationErrors.length > 0">
            <div class="buttonAndLabel" style="position: relative; text-align: center;" dropdown data-is-open="validationErrorDropdownOpen" title="{{::'api_validation_errors' | translate}}">
                <button data-ng-disabled="!swaggerDocument || xhrProcessing" id="{{$id}}_validationErrors" aria-label="{{::'api_validation_errors' | translate}}" title="{{::'api_validation_errors' | translate}}" role="button" class="iconOnlyButton dropdown-toggle" dropdown-toggle><div class="material-icons" style="color:red;">error</div></button>
                <div class="dropdown-menu" data-ng-class="{'pull-right':!isMobile()}" style="min-width:400px; padding:10px; text-align:left; text-align: left; max-height: calc(100vh - 110px); overflow-y: auto; overflow-x: hidden;" role="menu" title="{{::'api_validation_errors' | translate}}" onkeypress="validationErrorDropdownOpen = true;">
                    <div style="margin-bottom:20px;">
                        <h3>{{validationErrors.length | translatePlurality: 'api_validation_errors_count': 'length'}}</h3>
                    </div>
                    <ul>
                        <li role="menuitem" data-ng-repeat="error in validationErrors" style="margin-bottom:20px;">
                            <div class="displayInline material-icons" style="color:red; vertical-align:top;">error</div>
                            <div class="displayInline" style="width:calc(100% - 50px); padding-left:10px;">
                                <span>{{error.message}}</span>
                                <br/>
                                <span data-ng-if="error.dataPath">{{error.dataPath}}</span>
                                <span data-ng-if="error.mark && (mainTab == 'code' || mainTab == 'editor')">
                                    <a data-ng-click="goToLine(error.mark.line)">{{'api_validation_show_me' | translate}}</a>
                                </span>
                                <span data-ng-if="error.path && error.path.length > 0 && (mainTab == 'code' || mainTab == 'editor')">
                                    <a data-ng-click="goToPath(error.path)">{{'api_validation_show_me' | translate}}</a>
                                </span>
                                <br/>
                                <span data-ng-if="error.path && error.path.length > 0" class="errorPath">{{error.path | formatPath}}</span>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="dijitInline contentBox" data-ng-if="validationWarnings && validationWarnings.length > 0">
            <div class="buttonAndLabel" style="position: relative; text-align: center;" dropdown data-is-open="validationWarningDropdownOpen" title="{{'moreActions' | translate}}">
                <button data-ng-disabled="!swaggerDocument || xhrProcessing" id="{{$id}}_validationWarnings" aria-label="{{::'api_validation_warnings' | translate}}" title="{{::'api_validation_warnings' | translate}}" role="button" class="iconOnlyButton dropdown-toggle" dropdown-toggle><div class="material-icons" style="color:orange;">warning</div></button>
                <div class="dropdown-menu" data-ng-class="{'pull-right':!isMobile()}" style="min-width:400px; padding:10px; text-align:left; text-align: left; max-height: calc(100vh - 110px); overflow-y: auto; overflow-x: hidden;" role="menu" title="{{'api_validation_warnings' | translate}}" onkeypress="validationWarningDropdownOpen = true;">
                    <div style="margin-bottom:20px;">
                        <h3>{{validationWarnings.length | translatePlurality: 'api_validation_warnings_count': 'length'}}</h3>
                    </div>
                    <ul>
                        <li role="menuitem" data-ng-repeat="warning in validationWarnings" style="margin-bottom:20px;">
                            <div class="displayInline material-icons" style="color:orange; vertical-align:top;">warning</div>
                            <div class="displayInline" style="width:calc(100% - 50px); padding-left:10px;">
                                <span>{{warning.message}}</span>
                                <br/>
                                <span data-ng-if="warning.dataPath">{{warning.dataPath}}</span>
                                <span data-ng-if="warning.mark && (mainTab == 'code' || mainTab == 'editor')">
                                    <a data-ng-click="goToLine(warning.mark.line)">{{'api_validation_show_me' | translate}}</a>
                                </span>
                                <span data-ng-if="warning.path && warning.path.length > 0 && (mainTab == 'code' || mainTab == 'editor')">
                                    <a data-ng-click="goToPath(warning.path)">{{'api_validation_show_me' | translate}}</a>
                                </span>
                                <br/>
                                <span data-ng-if="warning.path && warning.path.length > 0" class="errorPath">{{warning.path | formatPath}}</span>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="dijitInline contentBox saveButton" data-ng-show="editable">
            <div class="buttonAndLabel" style="position: relative; text-align: center;" title="{{'save' | translate}}">
                <button aria-label="{{::'save' | translate}}" title="{{::'save' | translate}}" data-ng-disabled="!checkDirty()" data-ng-click="saveComponent()" class="highVisButton iconOnlyButton"><div class="material-icons">save</div></button>
            </div>
        </div>
        <div class="dijitInline contentBox deleteButton" data-ng-show="editable">
            <div class="buttonAndLabel" style="position: relative; text-align: center;" title="{{'delete' | translate}}">
                <button aria-label="{{::'delete' | translate}}" title="{{::'delete' | translate}}" data-ng-click="deleteComponent()" class="iconOnlyButton"><div class="material-icons">delete</div></button>
            </div>
        </div>
    </div>
    <section data-ng-class="{'spinner': xhrProcessing}" class="apiEditor">
        <div data-ng-show="component" class="stretch underMainBanner">
            <div class="toc stretch" style="width:250px; vertical-align:top;" data-ng-show="mainTab == 'code' || mainTab == 'editor'">
                <ul>
                    <li class="tocItem"><a class='toc-navigate-info' data-ng-click="navigate('info')">{{::'api_info' | translate}}</a></li>
                    <li class="tocItem"><a class='toc-navigate-paths' data-ng-click="navigate('paths')">{{::'api_paths' | translate}}</a></li>
                    <li>
                        <ul>
                            <li class="tocItem" data-ng-repeat="(pathName, path) in component.paths">
                                <a title="{{pathName}}" class='truncate toc-navigate-paths-{{::cleanUpKey(pathName)}}' data-ng-click="navigate('paths', pathName, true)">{{pathName}}</a>
                            </li>
                        </ul>
                    </li>
                    <li class="tocItem"><a class='toc-navigate-parameters' data-ng-click="navigate('parameters')">{{::'api_parameters' | translate}}</a></li>
                    <li>
                        <ul>
                            <li class="tocItem" data-ng-repeat="(parameterName, parameter) in component.parameters">
                                <a title="{{parameterName}}" class='truncate toc-navigate-parameters-{{::parameterName}}' data-ng-click="navigate('parameters', parameterName)">{{parameterName}}</a>
                            </li>
                        </ul>
                    </li>
                    <li class="tocItem"><a class='toc-navigate-definitions' data-ng-click="navigate('definitions')">{{::'api_definitions' | translate}}</a></li>
                    <li>
                        <ul>
                            <li class="tocItem" data-ng-repeat="(definitionName, definition) in component.definitions">
                                <a title="{{::definitionName}}" class='truncate toc-navigate-definitions-{{::cleanUpKey(definitionName)}}' data-ng-click="navigate('definitions', definitionName)">{{::definitionName}}</a>
                            </li>
                        </ul>
                    </li>
                    <li class="tocItem"><a class='toc-navigate-assemblies' data-ng-click="navigate('assemblies')">{{::'api_policy_assemblies' | translate}}</a></li>
                    <li>
                        <ul>
                            <li class="tocItem" data-ng-repeat="(assemblyName, assembly) in component.assemblies">
                                <a title="{{::assemblyName}}" class='truncate toc-navigate-assemblies-{{::cleanUpKey(assemblyName)}}' data-ng-click="navigate('assemblies', assemblyName)">{{::assemblyName}}</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div data-ng-if="mainTab == 'code'" class="stretch" style="left:250px; width: calc(100% - 250px);">
                <div class="stretch absolutelyFabulous">
                    <div id="ace-api-editor" ui-view="editor" class="editor-wrapper ace_editor ace-atom-dark ace_dark" ng-model="$root.componentAsYaml" ui-ace="{useWrapMode: true, mode: 'yaml', theme: 'atom_dark', onLoad: aceLoaded, onChange: aceChanged}" data-ng-readonly="!offlineMode && !editable"></div>
                </div>
            </div>
            <div data-ng-if="mainTab == 'editor'" class="stretch" style="left:250px; width: calc(100% - 250px);" in-view-container>
                <div class="detailsEditor layout-column">

                    <!-- Basic Info -->
                    <div class="detailsContainer">
                        <div class="navigate-info detailsSection">
                            <div class="leftColumn">
                                <h2 in-view="setSelectedPath($inview, 'info', 1)">{{::'api_info' | translate}}</h2>
                            </div>
                            <div class="rightColumn">
                                <div class="editorBar">
                                    <md-input-container>
                                        <label>{{::"api_title" | translate}}</label>
                                        <input apim-context-value required data-ng-model="component.info.title" data-ng-model-options="{debounce:500}"/>
                                    </md-input-container>
                                </div>
                                <div class="editorBar">
                                    <md-input-container>
                                        <label>{{::"api_name" | translate}}</label>
                                        <input required data-ng-model="component.info.name" data-ng-model-options="{debounce:500}" data-ng-pattern="/^[a-z]+[a-z0-9]*(\-[a-z0-9]+)*$/" ng-trim="false" />
                                    </md-input-container>
                                </div>
                                <div class="editorBar">
                                    <md-input-container>
                                        <label>{{::"api_version" | translate}}</label>
                                        <input required data-ng-model="component.info.version" data-ng-model-options="{debounce:500}"/>
                                    </md-input-container>
                                </div>
                                <div class="editorBar">
                                    <md-input-container>
                                        <label>{{::"api_description" | translate}}</label>
                                        <div class="floatRight">
                                            <div class="floatRight">
                                                <button class="textOnlyButton" data-ng-disabled="!descriptionPreviewMode" data-ng-click="descriptionPreviewMode = false;">{{::'api_description_edit' | translate}}</button>
                                                <button class="textOnlyButton" data-ng-disabled="descriptionPreviewMode" data-ng-click="descriptionPreviewMode = true;">{{::'api_description_preview' | translate}}</button>
                                                <a class="material-icons alignMiddle" style="font-size: medium; margin: -3px 0px 0px 5px;" title="{{::'api_description_markdown_help' | translate}}" href="https://help.github.com/articles/basic-writing-and-formatting-syntax/" target="_blank">info_outline</a>
                                            </div>
                                        </div>
                                        <div class="clearBoth"></div>
                                        <textarea data-ng-show="!descriptionPreviewMode" data-ng-model="component.info.description" data-ng-model-options="{debounce:500}" ></textarea>
                                        <div data-ng-if="descriptionPreviewMode" style="margin-top: 10px; padding: 3px;" marked="component.info.description"></div>
                                    </md-input-container>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--  Paths -->
                    <div class="detailsContainer">
                        <div class="navigate-paths detailsSection">
                            <h2 in-view="setSelectedPath($inview, 'paths', 1000)">{{::'api_paths' | translate}}</h2>
                            <div class="floatRight" style="margin: -35px 10px 0 0;">
                                <button  aria-label="{{::'api_path_add' | translate}}" title="{{::'api_path_add' | translate}}"  data-ng-disabled="!swaggerDocument" class="iconOnlyButton" data-ng-click="addPath()"><div class="material-icons">add_circle_outline</div></button>
                            </div>
                            <div data-ng-if="!swaggerDocument.paths || isEmpty(swaggerDocument.paths)" class="editorBar">
                                <div>{{::'api_no_paths' | translate}}</div>
                            </div>
                            <div class="navigate-paths-{{::cleanUpKey(path.$$key)}} path detailsSplitSection" style="padding: 0;" data-ng-controller="PathController" data-ng-repeat="path in paths" in-view="setSelectedPath($inview, 'paths-' + cleanUpKey(path.$$key), 1001 + $index)">
                                <div class="secondaryBackground" style="display: flex; padding: 5px 10px 5px 15px;" data-ng-click="pathExpanded = !pathExpanded">
                                    <div class="displayInline" style="flex: 1; line-height: 28px;">{{path.$$key}}</div>
                                    <button style="margin-top: 0px;" title="{{::'api_path_delete' | translate}}" aria-label="{{::'api_path_delete' | translate}}" class="iconOnlyButton centerAtTop" data-ng-click="removePath(path.$$key)"><div class="material-icons">delete</div></button>
                                </div>
                                <div data-ng-if="pathExpanded">
                                    <div class="editorBar">
                                        <md-input-container>
                                            <label>{{::"api_path" | translate}}</label>
                                            <input required data-ng-model="$pathName" data-ng-model-options="{getterSetter:true, debounce:500}" />
                                        </md-input-container>
                                        <div style="margin: 24px 0px 0px 10px; position: relative;" dropdown data-is-open="addOperationDropdownOpen" title="{{::'api_operation_add' | translate}}">
                                            <button data-ng-disabled="!swaggerDocument || xhrProcessing" id="{{$id}}_addOperation" title="{{::'api_operation_add' | translate}}" role="button" class="textOnlyButton dropdown-toggle" dropdown-toggle>{{::'api_operation_add' | translate}}</button>
                                            <ul class="dropdown-menu" data-ng-class="{'pull-right':!isMobile()}" style="padding:10px; text-align:left;" role="menu" title="{{::'api_operation_add' | translate}}" onkeypress="addOperationDropdownOpen = true;">
                                                <li role="menuitem" data-ng-show="!swaggerDocument.paths[path.$$key]['get']">
                                                    <a href="" data-ng-click="addOperation('get')" href="">GET</a>
                                                </li>
                                                <li role="menuitem" data-ng-show="!swaggerDocument.paths[path.$$key]['post']">
                                                    <a href="" data-ng-click="addOperation('post')" href="">POST</a>
                                                </li>
                                                <li role="menuitem" data-ng-show="!swaggerDocument.paths[path.$$key]['put']">
                                                    <a href="" data-ng-click="addOperation('put')" href="">PUT</a>
                                                </li>
                                                <li role="menuitem" data-ng-show="!swaggerDocument.paths[path.$$key]['delete']">
                                                    <a href="" data-ng-click="addOperation('delete')" href="">DELETE</a>
                                                </li>
                                                <li role="menuitem" data-ng-show="!swaggerDocument.paths[path.$$key]['head']">
                                                    <a href="" data-ng-click="addOperation('head')" href="">HEAD</a>
                                                </li>
                                                <li role="menuitem" data-ng-show="!swaggerDocument.paths[path.$$key]['patch']">
                                                    <a href="" data-ng-click="addOperation('patch')" href="">PATCH</a>
                                                </li>
                                                <li role="menuitem" data-ng-show="!swaggerDocument.paths[path.$$key]['options']">
                                                    <a href="" data-ng-click="addOperation('options')" href="">OPTIONS</a>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div data-ng-show="tempName" class="editorBar stickyNote" style="vertical-align:middle; line-height:24px;">
                                        <div class="material-icons">warning</div>
                                        <div class="flex" style="margin-left:10px;">{{::'api_path_duplicate_name' | translate}}</div>
                                    </div>

                                    <!--  Parameters -->
                                    <div style="margin-bottom: 30px;">
                                        <div data-ng-include="'apim/apis/partials/path-parameters.html'" data-ng-controller="PathParametersController as paramsCtrl"></div>
                                    </div>

                                    <div class="detailsSplitSection operation layout-column" style="padding:0; margin: 10px;" data-ng-controller="OperationController" data-ng-repeat="operation in operations">
                                        <div class="editorBar operationTitle" style="padding-right: 0px;" data-ng-click="isExpanded = !isExpanded">
                                            <div class="method {{::operation['$$key']}}">{{::operation['$$key'] | uppercase}}</div>
                                            <div class="path">{{path['$$key']}}</div>
                                            <button aria-label="{{::'api_operation_delete' | translate}}" title="{{::'api_operation_delete' | translate}}" class="iconOnlyButton" data-ng-click="removeOperation($event, operation)"><div class="material-icons">delete</div></button>
                                        </div>
                                        <div class="operationRenderer" data-ng-if="!isExpanded">
                                            <div class="editorBar">
                                                <ul class="tagContainer" style="margin-top: 15px;">
                                                    <li data-ng-repeat="tag in operation.tags track by tag">
                                                        <div class="dijitInline tagNode">
                                                            <div class="dijitInline tag smallTag tag12" value="{{::tag}}">
                                                                <label>{{::tag}}</label>
                                                                <div class="dijitInline deleteTagButton" style="margin-top: -3px;">
                                                                    <button title="{{::'api_tag_remove' | translate}}" aria-label="{{::'api_tag_remove' | translate}}" class="iconOnlyButton" data-ng-click="removeTag(tag)"><div class="closeIcon"></div></button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </li>
                                                </ul>
                                                <md-input-container>
                                                    <label>{{::'api_tag_add' | translate}}</label>
                                                    <input name="tag" data-ng-model="tag.newTag" data-ng-blur="addTag()" data-ng-keydown="($event.which === 13)?addTagCancelEvent($event):0" typeahead="tag for tag in tagArray | filter:$viewValue" />
                                                </md-input-container>
                                            </div>
                                            <div class="editorBar">
                                                <md-input-container>
                                                    <label>{{::"api_operation_summary" | translate}}</label>
                                                    <input data-ng-model="operation.summary" data-ng-model-options="{debounce:500}"/>
                                                </md-input-container>
                                            </div>
                                            <div class="editorBar">
                                                <md-input-container style="flex:9;">
                                                    <label>{{::"api_operation_id" | translate}}</label>
                                                    <input data-ng-model="operation.operationId" data-ng-model-options="{debounce:500}"/>
                                                </md-input-container>
                                                <md-input-container style="flex: 1; min-width: 100px;">
                                                <md-checkbox md-no-ink aria-label="{{::'api_operation_deprecated' | translate}}" data-ng-model="operation.deprecated" class="md-primary">
                                                    <span>{{::"api_operation_deprecated" | translate}}</span>
                                                </md-checkbox>
                                                </md-input-container>
                                            </div>
                                            <div class="editorBar">
                                                <md-input-container>
                                                    <label>{{::"api_operation_description" | translate}}</label>
                                                    <div class="floatRight">
                                                        <div class="floatRight">
                                                            <button class="textOnlyButton" data-ng-disabled="!opDescriptionPreviewMode" data-ng-click="opDescriptionPreviewMode = false;">{{::'api_description_edit' | translate}}</button>
                                                            <button class="textOnlyButton" data-ng-disabled="opDescriptionPreviewMode" data-ng-click="opDescriptionPreviewMode = true;">{{::'api_description_preview' | translate}}</button>
                                                            <a class="material-icons alignMiddle" style="font-size: medium; margin-top: -3px;" title="{{::'api_description_markdown_help' | translate}}" href="https://help.github.com/articles/basic-writing-and-formatting-syntax/" target="_blank">info_outline</a>
                                                        </div>
                                                    </div>
                                                    <div class="clearBoth"></div>
                                                    <textarea data-ng-show="!opDescriptionPreviewMode" data-ng-model="operation.description" data-ng-model-options="{debounce:500}"></textarea>
                                                    <div data-ng-if="opDescriptionPreviewMode" style="margin-top: 10px; padding: 3px;" marked="operation.description"></div>
                                                </md-input-container>
                                            </div>

                                            <!--  Parameters -->
                                            <div style="margin-bottom: 30px;">
                                                <div data-ng-include="'apim/apis/partials/path-parameters.html'" data-ng-controller="PathParametersController as paramsCtrl"></div>
                                            </div>

                                            <!-- Responses -->
                                            <div class="editorBar">
                                                <h5 class="flex">{{::"api_responses" | translate}}</h5>
                                                <div style="margin: -5px 0 0 0;">
                                                    <button aria-label="{{::'api_response_add' | translate}}" data-ng-disabled="!swaggerDocument" class="textOnlyButton" data-ng-click="addResponse()">{{::'api_response_add' | translate}}</button>
                                                </div>
                                            </div>
                                            <div class="editorBar response">
                                                <table data-ng-show="responses && responses.length > 0">
                                                    <thead>
                                                        <tr>
                                                            <th>{{::'api_operation_response_statuscode' | translate}}</th>
                                                            <th>{{::'api_operation_response_description' | translate}}</th>
                                                            <th>{{::'api_operation_response_schema' | translate}}</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr data-ng-controller="ResponseController as responseCtrl" data-ng-repeat="response in responses track by response.$$key">
                                                            <td>
                                                                <md-input-container>
                                                                    <input aria-label="{{::'api_operation_response_statuscode' | translate}}" data-ng-model="response.$$key"/>
                                                                </md-input-container>
                                                            </td>
                                                            <td>
                                                                <md-input-container>
                                                                    <input aria-label="{{::'api_operation_response_description' | translate}}" data-ng-model="response.description"/>
                                                                </md-input-container>
                                                            </td>
                                                            <td>
                                                                <md-select aria-label="{{::'api_operation_response_schema' | translate}}" data-ng-model="$responseType" data-ng-model-options="{getterSetter:true, debounce:500}"  style="margin:0;">
                                                                    <md-option ng-repeat="(definitionName, definition) in swaggerDocument.definitions track by definitionName" data-ng-value="'#/definitions/' + definitionName">{{::definitionName}}</md-option>
                                                                    <md-option ng-repeat="(typeId, type) in ::propertyTypes track by typeId" data-ng-value="getTypeValue(type)">{{type.name}}</md-option>
                                                                </md-select>
                                                            </td>
                                                            <td class="alignRight">
                                                                <button aria-label="{{::'api_parameter_delete' | translate}}" data-ng-disabled="!swaggerDocument" class="iconOnlyButton" data-ng-click="removeResponse(response)"><div class="material-icons">delete</div></button>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>

                                            <!-- Security -->
                                            <div class="editorBar">
                                                <h5>{{::'api_security' | translate}}</h5>
                                            </div>
                                            <div data-ng-if="!swaggerDocument.securityDefinitions || isEmpty(swaggerDocument.securityDefinitions)" class="editorBar">
                                                <div>{{::'api_no_security_schemas' | translate}}</div>
                                            </div>
                                            <div style="margin-top: 10px;" data-ng-if="swaggerDocument.securityDefinitions && !isEmpty(swaggerDocument.securityDefinitions)" class="editorBar">
                                                <div>
                                                    <md-checkbox md-no-ink aria-label="{{securityDefinitionName}}" data-ng-model="$inheritScheme" data-ng-model-options="{getterSetter:true, debounce:500}" class="md-primary">
                                                    {{::'api_security_scheme_inherit' | translate}}
                                                    </md-checkbox>
                                                </div>
                                            </div>
                                            <div data-ng-if="swaggerDocument.securityDefinitions && !isEmpty(swaggerDocument.securityDefinitions) && operation.security" class="editorBar">
                                                <div class="detailsSection" style="padding: 0; flex: 1;" data-ng-controller="SecurityOptionsController as securityOptionsController">
                                                    <div class="floatRight" style="margin: -35px 10px 0 0;">
                                                        <button aria-label="{{::'api_security_add_security_option' | translate}}" data-ng-disabled="!swaggerDocument" class="iconOnlyButton" data-ng-click="addSecurityOption()"><div class="material-icons">add_circle_outline</div></button>
                                                    </div>
                                                    <div class="detailsSplitSection" style="display: flex; padding: 20px; padding-bottom: 5px;" data-ng-repeat="securityOption in operation.security">
                                                        <div class="displayInline alignTop" style="margin-right: 20px; margin-top: 1px;">{{::'api_security_option' | translate}}{{$index+1}}</div>
                                                        
                                                        <div class="displayInline alignTop" style="flex: 1;">
                                                            <div data-ng-repeat="(securityDefinitionName, securityDefinition) in swaggerDocument.securityDefinitions" data-ng-controller="ApiSecuritySchemeController">
                                                                <div class="displayInline alignTop inlineCheckbox" style="min-width: 25%">
                                                                    <md-checkbox md-no-ink aria-label="{{securityDefinitionName}}" data-ng-model="$schemeEnabled" data-ng-model-options="{getterSetter:true, debounce:500}" class="md-primary">
                                                                    {{securityDefinitionName}} ({{::'api_security_type_' + securityDefinition.type | translate}})
                                                                    </md-checkbox>
                                                                </div>
                                                                <div class="displayInline alignTop" style="margin-left: 20px;" data-ng-if="$schemeEnabled() && securityDefinition.scopes" data-ng-repeat="(scope, scopeObject) in securityDefinition.scopes" data-ng-controller="ApiSecuritySchemeScopeController">
                                                                    <md-checkbox md-no-ink aria-label="{{::scope}}" data-ng-model="$scopeEnabled" data-ng-model-options="{getterSetter:true}" class="md-primary">
                                                                    {{::scope}}
                                                                    </md-checkbox>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="displayInline alignTop">
                                                            <button style="margin: -3px 0px 0px 0px;" data-ng-if="$index > 0" class="iconOnlyButton material-icons" data-ng-click="securityOptionsController.moveUp($index)" title="{{::'assemblyMoveUp' | translate}}">arrow_upward</button>
                                                            <button style="margin: -3px 0px 0px 0px;" data-ng-if="$index < operation.security.length - 1" class="iconOnlyButton material-icons" data-ng-click="securityOptionsController.moveDown($index)" title="{{::'assemblyMoveDown' | translate}}">arrow_downward</button>
                                                            <button style="margin-top: -3px;" data-ng-disabled="!swaggerDocument" class="material-icons iconOnlyButton" title="{{::'api_security_delete_option' | translate}}" aria-label="{{::'api_security_delete_option' | translate}}" data-ng-click="deleteSecurityOption($index)">delete</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Content types -->
                                            <div data-ng-controller="ContentTypeController">
                                                <!-- Consumes -->
                                                <div class="editorBar">
                                                    <h5>{{::'api_consumes' | translate}}</h5>
                                                </div>
                                                <div style="margin-top: 10px;" class="editorBar">
                                                    <div>
                                                        <md-checkbox md-no-ink aria-label="{{::'api_consume_inherit' | translate}}" data-ng-model="$inheritConsumes" data-ng-model-options="{getterSetter:true}" class="md-primary">
                                                        {{::'api_consume_inherit' | translate}}
                                                        </md-checkbox>
                                                    </div>
                                                </div>
                                                <div class="editorBar" data-ng-show="operation.consumes">
                                                    <apic-consumes></apic-consumes>
                                                </div>

                                                <!-- Produces -->
                                                <div class="editorBar">
                                                    <h5>{{::'api_produces' | translate}}</h5>
                                                </div>
                                                <div style="margin-top: 10px;" class="editorBar">
                                                    <div>
                                                        <md-checkbox md-no-ink aria-label="{{::'api_produce_inherit' | translate}}" data-ng-model="$inheritProduces" data-ng-model-options="{getterSetter:true}" class="md-primary">
                                                        {{::'api_produce_inherit' | translate}}
                                                        </md-checkbox>
                                                    </div>
                                                </div>
                                                <div class="editorBar" data-ng-show="operation.produces">
                                                    <apic-produces></apic-produces>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--  Parameters -->
                    <div class="detailsContainer">
                        <div class="navigate-parameters detailsSection">
                            <h2 in-view="setSelectedPath($inview, 'parameters', 9999)">{{::'api_parameters' | translate}}</h2>
                            <div data-ng-include="'apim/apis/partials/api-parameters.html'" data-ng-controller="ApiParametersController as paramsCtrl"></div>
                        </div>
                    </div>

                    <!-- Definitions -->
                    <div class="detailsContainer">
                        <div class="navigate-definitions detailsSection">
                            <h2 in-view="setSelectedPath($inview, 'definitions', 10000)">{{::'api_definitions' | translate}}</h2>
			                <div data-ng-include="'apim/apis/partials/api-definitions.html'"></div>
                        </div>
                    </div>

                    <!-- Assembly -->
                    <div class="detailsContainer assembly-component">
                        <div class="navigate-assemblies detailsSection" style="padding-bottom: 10px;">
                            <h2 in-view="setSelectedPath($inview, 'assemblies', 12)">{{::'api_policy_assemblies' | translate}}</h2>
                            <div class="floatRight" style="margin: -35px 10px 0 0;">
                                <button aria-label="{{::'api_policy_assembly_add' | translate}}" title="{{::'api_policy_assembly_add' | translate}}" data-ng-disabled="!component" class="iconOnlyButton" data-ng-click="addAssembly()"><div class="material-icons">add_circle_outline</div></button>
                            </div>
                            <div class="clearBoth"></div>
                            <div data-ng-repeat="(assemblyName, assembly) in component.assemblies track by assemblyName" data-ng-controller="ComponentAssemblyController">
                                <div class="detailsSplitSection maximizableSection" apic-fix-on-click data-ng-class="{'maximizedSection': maximized}">
                                    <div class="editorBar secondaryBackground">
                                        <div class="flex navigate-assemblies-{{::cleanUpKey(assemblyName)}}"" data-ng-click="setAssemblyExpanded(assemblyName, $event)">
                                            <h3 data-ng-show="expandedAssembly !== assemblyName">{{::assemblyName}}</h3>
                                            <md-input-container data-ng-show="expandedAssembly === assemblyName">
                                                <label for="{{$id}}_assembly_name_{{name}}">{{::"name" | translate}}</label>
                                                <input style="background: white;" id="{{$id}}_assembly_name_{{name}}" required data-ng-model="$assemblyName" data-ng-model-options="{getterSetter:true, updateOn:'blur'}"/>
                                            </md-input-container>
                                        </div>
                                        <button title="{{::'api_show_in_code_view' | translate}}" aria-label="{{::'api_show_in_code_view' | translate}}" class="iconOnlyButton" data-ng-click="switchToCodeView('assemblies', assemblyName)"><div class="material-icons">code</div></button>
                                        <button title="{{::'assemblyMaximize' | translate}}" aria-label="{{::'assemblyMaximize' | translate}}" data-ng-show="!maximized" class="iconOnlyButton" data-ng-click="setAssemblyExpanded(assemblyName, null, true); maximized = true;"><div class="material-icons maximizeHandle">add_to_queue</div></button>
                                        <button title="{{::'assemblyMaximize' | translate}}" aria-label="{{::'assemblyMaximize' | translate}}" data-ng-show="maximized" class="iconOnlyButton" data-ng-click="setAssemblyExpanded(assemblyName, null, false); maximized = false;"><div class="material-icons maximizeHandle">remove_from_queue</div></button>
                                        <button style="margin-left: 0;" title="{{::'api_definition_delete' | translate}}" aria-label="{{::'api__policy_assembly_delete' | translate}}" class="iconOnlyButton" data-ng-click="removeAssembly($event, assemblyName);"><div class="material-icons">delete</div></button>
                                    </div>
                                    <div class="embedded-assembly" data-ng-if="expandedAssembly === assemblyName">
                                        <apim-assembler data-assembler-options='{"policies": "ApimPolicyFactory", "source": "currentAssembly", "property": "x-ibm-configuration", "schema": "swaggerSchema", "test": true, "gateways": true, "templates": true}'></apim-assembler>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </section>
</div>



