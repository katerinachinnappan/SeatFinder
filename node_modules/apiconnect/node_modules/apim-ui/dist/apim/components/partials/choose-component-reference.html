<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<md-dialog aria-labelledby="{{$id}}_bannerHeading">
	<md-toolbar>
		<div class="md-toolbar-tools">
			<h2 id="{{$id}}_bannerHeading">{{::'components_choose_component_reference' | translate}}</h2>
		</div>
	</md-toolbar>
	<md-dialog-content class="componentSelectorDialog" style="min-width: 500px;">
        <div data-ng-if="currentReference">
            <span>{{::'components_current_reference' | translate}}</span>
            <span style="font-weight: bold;">{{::currentReference}}</span>
        </div>
        <md-input-container style="width: 100%; margin-bottom: 10px;">
            <label>{{::"components_external_reference" | translate}}</label>
            <input data-ng-model="externalReference" data-ng-change="selectedReference = '';" data-ng-model-options="{debounce:200}"/>
        </md-input-container>
        <div>{{::'components_or_choose_component_reference' | translate}}</div>
        <div class="whiteBackground layout fullWidth searchBanner" style="border-top: 1px solid #e0e0e0; height: 51px;">
            <div class="displayInline itsAllRelative flex">
                <input type="search" aria-label="{{::'search' | translate}}" placeholder="{{::'search' | translate}}" data-ng-model="referenceQuery"/>
                <button type="reset" class="iconOnlyButton" data-ng-click="referenceQuery = ''" data-ng-show="referenceQuery" title="{{::'resetFilter' | translate}}"><div class="closeIcon"></div></button>
            </div>
        </div>
        <ul class="simpleList componentList">
            <li data-ng-show="componentReferences && componentReferences.length === 0" class="stickyNote">{{::'components_no_component_references_available' | translate}}</li>
            <li data-ng-show="components.length > 0 && filteredReferences.length === 0" class="stickyNote">{{::'components_no_matching_component_references_available' | translate}}</li>
            <li class="secondaryHighlight secondaryBorder selectableComponent" data-ng-class="{'selected': selectedReference === referenceName}" data-ng-click="$parent.selectedReference = referenceName; externalReference = '';" data-ng-repeat="referenceName in filteredReferences = (references | referenceName: referenceQuery)">
                <span data-ng-bind-html="referenceName | highlight: referenceQuery"></span>
            </li>
        </ul>
	</md-dialog-content>
	<div class="md-actions layout-row">
        <button class="cancelButton" data-ng-click="cancel()">{{'cancel' | translate}}</button>
        <button class="createButton" data-ng-disabled="!selectedReference && !externalReference" data-ng-click="done();">{{'done' | translate}}</button>
    </div>
</md-dialog>