<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<md-dialog aria-labelledby="{{$id}}_bannerHeading">
	<md-toolbar>
		<div class="md-toolbar-tools">
			<h2 id="{{$id}}_bannerHeading">{{::'addNewAPITitle' | translate}}</h2>
			<h2 class="floatRight" data-ng-hide="currentPage == 0">{{currentPage}} / {{pageCount}}</h2>
		</div>
	</md-toolbar>
	<md-dialog-content data-ng-switch="currentPage">
		<form name="newApiForm">
			<div data-ng-switch-default class="layout-column">
				<label><input type="radio" name="createType" data-ng-model="chosenMethod" value="SWAGGER_CREATE"/>{{'api_create_swagger' | translate}}</label>
				<label><input type="radio" name="createType" data-ng-model="chosenMethod" value="SWAGGER_IMPORT"/>{{'api_import_swagger' | translate}}</label>
				<label><input type="radio" name="createType" data-ng-model="chosenMethod" value="OAUTH_CREATE"/>{{'api_create_oauth' | translate}}</label>
				<label><input type="radio" name="createType" data-ng-model="chosenMethod" value="WSDL_IMPORT"/>{{'api_import_wsdl' | translate}}</label>
			</div>
			<div data-ng-switch-when="1">
				<div data-ng-show="chosenMethod == 'SWAGGER_CREATE' || chosenMethod == 'OAUTH_CREATE'">
					<md-input-container>
						<label>{{'apiShortName' | translate}}</label>
						<input title="{{'apiShortName' | translate}}" class="marginBottom10 createApiName" required data-ng-model="newApi.info.title" data-ng-disabled="chosenMethod != 'SWAGGER_CREATE'"/>
					</md-input-container>
					<md-input-container>
					<label>{{'real_api_name' | translate}}</label>
						<input title="{{'real_api_name' | translate}}" class="marginBottom10 createRealApiName" data-ng-model="newApi.info['x-ibm-name']" data-ng-disabled="chosenMethod != 'SWAGGER_CREATE'"
            data-ng-pattern="/^[a-zA-Z]+[a-zA-Z0-9]*(\-[a-zA-Z0-9]+)*$/">
					</md-input-container>
					<md-input-container>
						<label>{{'apiPath' | translate}}</label>
						<input title="{{'apiPath' | translate}}" class="marginBottom10 createApiContext" maxlength="100" pattern="((?!://)[-A-Za-z0-9\./_%$\-\+!\*(),;:@&=])*" data-ng-model="newApi.basePath" data-ng-disabled="chosenMethod != 'SWAGGER_CREATE'"/>
					</md-input-container>
					<md-input-container>
						<label>{{'apiSwaggerVersion' | translate}}</label>
						<input title="{{'apiSwaggerVersion' | translate}}" class="marginBottom10 createApiVersion" required data-ng-model="newApi.info.version" data-ng-disabled="chosenMethod != 'SWAGGER_CREATE'"/>
					</md-input-container>
					<md-input-container>
						<label>{{'description' | translate}}</label>
						<textarea class="marginBottom10 createApiDescription" rows="2" data-ng-model="newApi.info.description" data-ng-disabled="chosenMethod != 'SWAGGER_CREATE'"></textarea>
					</md-input-container>
				</div>
				<div data-ng-show="chosenMethod == 'SWAGGER_IMPORT' || chosenMethod == 'WSDL_IMPORT'">IMPORT DIALOG TO FOLLOW</div>
			</div>
			<div data-ng-switch-when="99">
				<div class="marginBottom10">{{'product_add_api_to_product' | translate}}</div>
				<input id="{{$id}}_addNew" type="radio" value="new" data-ng-model="$parent.addToProductType"/>
				<label for="{{$id}}_addNew">{{'product_add_api_to_new' | translate}}</label>
				<input data-ng-focus="$parent.addToProductType = 'new';" data-ng-required="$parent.addToProductType == 'new'" class="marginBottom10 createApiName" maxlength="100" required data-ng-model="$parent.newProduct.info.title" aria-label="{{::'addWizardNewProductName' | translate}}"/>
				<input id="{{$id}}_addNone" type="radio" value="none" data-ng-model="$parent.addToProductType"/>
				<label for="{{$id}}_addNone">{{'product_add_api_to_none' | translate}}</label>
			</div>
		</form>
	</md-dialog-content>
	<div class="md-actions layout-row">
		<button class="createButton" style="float: left;" data-ng-show="currentPage >0" data-ng-enabled="!creatingApi" data-ng-click="back()">{{'planPublishBack' | translate}}</button>
		<div class="loadingAnimate apiHidden" data-ng-class="{apiHidden: !creatingApi}"></div>
		<button class="cancelButton" data-ng-click="cancel();" data-ng-enabled="!creatingApi">{{'cancel' | translate}}</button>
		<button class="createButton" data-ng-show="currentPage < pageCount" data-ng-enabled="formValid()" data-ng-click="next()">{{'planPublishNext' | translate}}</button>
		<button class="createButton" data-ng-show="currentPage == pageCount" data-ng-enabled="formValid() && !creatingApi" data-ng-click="create();">{{'add' | translate}}</button>
	</div>
</md-dialog>
