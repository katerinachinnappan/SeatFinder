<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<div class="editorBar">
	<h5 class="flex">{{::"api_parameters" | translate}}</h5>
</div>
<div class="editorContent">
	<div style="margin: 10px;" data-ng-if="!parametersContainer.parameters">{{::'api_no_parameters' | translate}}</div>
	<table class="bx--responsive-table bxTableBorder" data-ng-if="parametersContainer.parameters">
		<thead class="bx--table-head tableHeaderBackground bxTableHeader">
			<tr class="bx--table-row">
				<th class="bx--table-header bxTablePaddingLeft">{{::'api_path_parameter_name' | translate}}</th>
				<th class="bx--table-header">{{::'api_path_parameter_in' | translate}}</th>
				<th class="bx--table-header">{{::'api_path_parameter_description' | translate}}</th>
				<th class="bx--table-header">{{::'api_path_parameter_required' | translate}}</th>
				<th class="bx--table-header">{{::'api_path_parameter_type' | translate}}</th>
				<th class="bx--table-header bxTablePaddingRight"></th>
			</tr>
		</thead>
		<tbody class="bx--table-body">
			<tr class="navigate-parameters-{{cleanUpKey(parameterName)}} bx--table-row bx--parent-row" data-ng-repeat="(parameterName, parameter) in parametersContainer.parameters track by parameterName" data-ng-controller="ParameterController as paramCtrl" in-view="setSelectedPath($inview, 'parameters-' + parameterName, 9999)" in-view-options="{throttle: 100}">
				<td class="bxTablePaddingLeft">
					<bx-input-container>
						<input aria-label="{{::'api_path_parameter_name' | translate}}" data-ng-disabled="isRef" data-ng-model="$parameterName" data-ng-model-options="{getterSetter:true, updateOn:'blur'}" data-ng-change="persistYaml()"/>
					</bx-input-container>
				</td>
				<td>
					<div class="bx--select bx--table-select bx--form__row-item">
						<select class="bx--select__input" aria-label="{{::'api_path_parameter_in' | translate}}" data-ng-disabled="isRef" data-ng-model="parameter.in" style="margin:0;">
							<option value="path">{{::'api_operation_response_parameter_in_path' | translate}}</option>
							<option value="query">{{::'api_operation_response_parameter_in_query' | translate}}</option>
							<option value="header">{{::'api_operation_response_parameter_in_header' | translate}}</option>
							<option value="formData">{{::'api_operation_response_parameter_in_formData' | translate}}</option>
							<option value="body">{{::'api_operation_response_parameter_in_body' | translate}}</option>
						</select>
						<bx-icon class="bx--select__arrow" icon="caret--down"></bx-icon>
					</div>

				</td>
				<td>
					<bx-input-container>
						<input aria-label="{{::'api_path_parameter_description' | translate}}" data-ng-disabled="isRef" data-ng-model="parameter.description"/>
					</bx-input-container>
				</td>
				<td>
					<div class="bx--form__row-item">
						<bx-checkbox style="margin: 0px 0px 5px 20px;" class="compactSize" aria-label="{{::'api_path_parameter_required' | translate}}" data-ng-disabled="isRef" data-ng-model="parameter.required"></bx-checkbox>
					</div>
				</td>
				<td>
					<div class="bx--select bx--table-select bx--form__row-item" data-ng-if="parameter.in !== 'body'">
						<select class="bx--select__input" aria-label="{{::'api_parameter_type' | translate}}" data-ng-disabled="isRef" data-ng-model="$propertyType" data-ng-model-options="{getterSetter:true, debounce:500}" style="margin:0;" ng-change="checkDirtyApi()">
							<option ng-repeat="(typeId, type) in ::propertyTypes track by typeId" data-ng-value="paramCtrl.getTypeValue(type)">{{type.name}}</option>
						</select>
						<bx-icon class="bx--select__arrow" icon="caret--down"></bx-icon>
					</div>
					<div class="bx--select bx--table-select bx--form__row-item"  data-ng-if="parameter.in == 'body'">
						<select class="bx--select__input" aria-label="{{::'api_parameter_type' | translate}}" data-ng-disabled="isRef" data-ng-model="$propertyType" data-ng-model-options="{getterSetter:true, debounce:500}" style="margin:0;" ng-change="checkDirtyApi()">
							<option data-ng-if="features.components" value="__ref__">{{::'components_add_external_definition' | translate}}</option>
							<option data-ng-if="features.components && parameter.schema.$ref && parameter.schema.$ref.indexOf('#') !== 0" data-ng-value="parameter.schema.$ref">{{parameter.schema.$ref.split('/').pop()}}</option>
							<option ng-repeat="(typeId, type) in ::allTypes track by typeId" data-ng-value="paramCtrl.getTypeValue(type)">{{::typeId}}</option>
						</select>
						<bx-icon class="bx--select__arrow" icon="caret--down"></bx-icon>
					</div>
				</td>
				<td class="alignRight bxTablePaddingRight">
					<apic-component-mover data-ng-if="features.components" class="displayInline alignMiddle" data-reference-source="parameter" data-reference-scope="parameters"></apic-component-mover>

          <button  aria-label="{{::'api_parameter_delete' | translate}}" title="{{::'api_parameter_delete' | translate}}" data-ng-disabled="!swaggerDocument" class="iconOnlyButton bx--form__row-item" data-ng-click="paramsCtrl.deleteProperty(parameterName)"><div class="material-icons">delete</div></button>
				</td>
			</tr>
		</tbody>
	</table>
</div>
