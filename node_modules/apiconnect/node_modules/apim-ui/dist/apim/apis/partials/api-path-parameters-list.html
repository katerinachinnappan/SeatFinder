<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<div class="bx--form__row-item">
  <div class="bx--form__legend">{{::"api_parameters" | translate}}</div>

  <div style="margin: -5px 0 0 0;">
    <div style="position: relative;" dropdown data-is-open="$ctrl.addParameterDropdownOpen" title="{{::'api_parameter_add' | translate}}">

      <!--Add Parameter button-->
      <button data-ng-disabled="!$ctrl.parametersContainer" id="{{$id}}_moreActions" title="{{::'api_parameter_add' | translate}}" role="button" class="bx--btn dropdown-toggle" dropdown-toggle>
        {{::'api_parameter_add' | translate}}
        <bx-icon class="bx--btn--right-icon__icon" icon="add--glyph"></bx-icon>
      </button>

      <!-- Add parameter dropdown menu -->
      <ul class="dropdown-menu" style="padding: 10px 0; text-align:left;" role="menu" title="{{::'api_parameter_add' | translate}}" onkeypress="$ctrl.addParameterDropdownOpen = true;">
        <li role="menuitem">
          <a aria-label="{{::'api_parameter_add_new' | translate}}" data-ng-click="$ctrl.addParameter()" href="javascript:;">{{::'api_parameter_add_new' | translate}}</a>
        </li>
        <li class="divider" data-ng-if="$ctrl.features.components"></li>
        <li role="menuitem" data-ng-if="$ctrl.features.components">
          <a aria-label="{{::'components_add_external_parameter' | translate}}" data-ng-click="$ctrl.addExternalParameter()" href="javascript:;">{{::'components_add_external_parameter' | translate}}</a>
        </li>
        <li class="divider"></li>
        <li role="menuitem" data-ng-repeat="(parameterName, parameter) in $ctrl.apiParameters" data-ng-if="$ctrl.addParameterDropdownOpen && !$ctrl.hasParameter(parameter)">
          <a aria-label="{{::parameter.name}}" data-ng-click="$ctrl.referenceParameter(parameterName, '#/parameters/' + parameterName, parameter)" href="javascript:;">{{::parameter.name}}</a>
        </li>
      </ul>
    </div>
  </div>
</div>

<!--parameter list-->

<div class="editorContent">
  <div style="margin: 10px;" data-ng-if="!$ctrl.parametersContainer.parameters || $ctrl.parametersContainer.parameters.length == 0">{{::'api_no_parameters' | translate}}</div>
  <div class="bx--responsive-table-container bxEditorTablePadding" data-ng-if="$ctrl.parametersContainer.parameters && $ctrl.parametersContainer.parameters.length > 0">
     <div class="bx--responsive-table bxTableBorder bx--definitions-properties">
        <div class="bx--table-head tableHeaderBackground bxTableHeader">
          <div class="bx--table-row">
            <span class="bx--table-header bxTablePaddingLeft">{{::'api_path_parameter_name' | translate}}</span>
          <span class="bx--table-header">{{::'api_path_parameter_in' | translate}}</span>
          <span class="bx--table-header">{{::'api_path_parameter_description' | translate}}</span>
          <span class="bx--table-header">{{::'api_path_parameter_required' | translate}}</span>
          <span class="bx--table-header">{{::'api_path_parameter_type' | translate}}</span>
          <span class="bx--table-header bxTablePaddingRight"></span>
          </div>
        </div>
        <div class="bx--table-body">
          <api-path-parameter
            class="bx--table-row"
            data-ng-repeat=" parameter in $ctrl.parameters"
            name="propertyName"
            parameter="parameter",
            api-parameters="$ctrl.apiParameters",
            parameter-types = "$ctrl.parameterTypes"
            is-required="$ctrl.paramRequired(property, value)",
            on-rename="$ctrl.renameParameter(newName, oldName)"
            on-delete="$ctrl.deleteParameter(parameter)"
            >
          </api-path-parameter>
        </div>
      </div>
  </div>
</div>
