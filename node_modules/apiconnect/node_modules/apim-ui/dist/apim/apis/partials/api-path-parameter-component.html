<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->

  <span class="bxTablePaddingLeft">
    <div data-ng-if="$ctrl.parameter.$ref.indexOf('#') > 0" class="secondaryText wrappedText">
      <span style="margin-right: 5px;">{{::'components_refers_to' | translate}}</span>
      <a target="_blank" data-ng-attr-href="{{::$ctrl.referenceToLink($ctrl.parameter.$ref)}}">{{::$ctrl.parameter.$ref}}</a>
    </div>
    <bx-input-container style="margin-top: 0;">
      <input aria-label="{{::'api_path_parameter_name' | translate}}" data-ng-disabled="$ctrl.isRef" data-ng-model="$ctrl.parameter.name"/>
    </bx-input-container>
  </span>
  <span>
    <div class="bx--select bx--table-select bx--form__row-item">
      <select class="bx--select__input" aria-label="{{::'api_path_parameter_in' | translate}}" data-ng-disabled="$ctrl.isRef" data-ng-model="$ctrl.parameter.in" data-ng-change="$ctrl.onParameterInChange()"
        style="margin:0;">
        <option value="path">{{::'api_operation_response_parameter_in_path' | translate}}</option>
        <option value="query">{{::'api_operation_response_parameter_in_query' | translate}}</option>
        <option value="header">{{::'api_operation_response_parameter_in_header' | translate}}</option>
        <option value="formData">{{::'api_operation_response_parameter_in_formData' | translate}}</option>
        <option value="body">{{::'api_operation_response_parameter_in_body' | translate}}</option>
      </select>
      <bx-icon class="bx--select__arrow" icon="caret--down"></bx-icon>
    </div>
  </span>

  <span>
    <bx-input-container>
      <input aria-label="{{::'api_path_parameter_description' | translate}}" data-ng-disabled="$ctrl.isRef" data-ng-model="$ctrl.parameter.description"
      />
    </bx-input-container>
  </span>

  <span>
    <div class="bx--form__row-item">
      <bx-checkbox style="margin: 0px 0px 5px 20px;" md-no-ink aria-label="{{::'api_path_parameter_required' | translate}}" data-ng-disabled="$ctrl.isRef"
        data-ng-model="$ctrl.parameter.required" class="compactSize"></bx-checkbox>
    </div>
  </span>

  <span>
    <div class="bx--form__row-item">
      <div class="bx--select bx--table-select" data-ng-if="$ctrl.parameter.in !== 'body'">
        <select class="bx--select__input" aria-label="{{::'api_parameter_type' | translate}}" data-ng-disabled="$ctrl.isRef" data-ng-model="$ctrl.$propertyType"
          data-ng-model-options="{getterSetter:true, debounce:500}" style="margin:0;">
                  <option ng-repeat="(typeId, type) in ::$ctrl.parameterTypes track by typeId" data-ng-value="$ctrl.getTypeValue(type)">{{::typeId}}</option>
                </select>
        <bx-icon class="bx--select__arrow" icon="caret--down"></bx-icon>
      </div>

      <div class="bx--select bx--table-select" data-ng-if="$ctrl.parameter.in == 'body'">
        <select class="bx--select__input" aria-label="{{::'api_parameter_type' | translate}}" data-ng-disabled="$ctrl.isRef" data-ng-model="$ctrl.$propertyType"
          data-ng-model-options="{getterSetter:true, debounce:500}" style="margin:0;">
                  <option data-ng-if="$ctrl.features.components" value="__ref__">{{::'components_add_external_definition' | translate}}</option>
                  <option data-ng-if="$ctrl.features.components && $ctrl.parameter.schema.$ref && $ctrl.parameter.schema.$ref.indexOf('#') !== 0" data-ng-value="$ctrl.parameter.schema.$ref">{{$ctrl.parameter.schema.$ref.split('/').pop()}}</option>
                  <option ng-repeat="(typeId, type) in ::$ctrl.allTypes track by typeId" data-ng-value="$ctrl.getTypeValue(type)">{{::typeId}}</option>
                </select>
        <bx-icon class="bx--select__arrow" icon="caret--down"></bx-icon>
      </div>
    </div>
  </span>

  <span class="alignRight bxTablePaddingRight">
    <div class="bx--form__row-item">
      <apic-component-mover data-ng-if="$ctrl.features.components" data-reference-source="$ctrl.parameter" data-reference-scope="$ctrl.parameters"></apic-component-mover>
      <button aria-label="{{::'api_parameter_delete' | translate}}" title="{{::'api_parameter_delete' | translate}}" data-ng-disabled="!$ctrl.parameter"
        class="iconOnlyButton material-icons" data-ng-click="$ctrl.deleteParameter()">delete</button>
    </div>
  </span>

