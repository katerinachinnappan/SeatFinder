<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<h2 id="{{$id}}_bannerHeading" class="bx--modal-content__heading">{{::'api_extension_add' | translate}}</h2>
<button class="bx--modal__close" type="button" data-modal-close ng-click="cancel()" title="Close">
  <bx-icon class="bx--modal__close--icon" icon="close"></bx-icon>
</button>
<form class="addUserDialog uploadCertForm" name="uploadCertForm">
  <div class="bx--modal-content">
    <section>
      <div role="search">
        <label for="search__input" class="bx--search__label">Search</label>
        <input type="search" class="bx--search__input" id="search__input" placeholder="{{::'extensionSearch' | translate}}" data-ng-model="searchString" data-ng-change="searchExtensions()" apim-auto-focus>
      </div>
      <div class="topMargin">{{::'searchResults' | translate}}</div>
      <div class="searchResults">
        <table>
          <thead class="bx--table-head tableHeaderBackground bxTableHeader">
            <tr>
              <th class="bx--table-header">{{::'api_extension' | translate}}</th>
              <th class="bx--table-header">{{::'api_catalog' | translate}}</th>
            </tr>
          </thead>
          <tbody class="bx--table-body">
            <tr
              class="userNode bx--table-row"
              data-ng-show="searchResults.length > 0"
              data-ng-repeat="extension in searchResults"
              data-ng-click="$parent.$parent.selectedExtension = extension"
              data-ng-class="{selected: $parent.$parent.selectedExtension == extension}"
              ng-class-even="'bx--parent-row--even'">
              <td>
                <span>{{extension.title}} ({{extension.version}})</span>
                <span>{{extension.name}}</span>
              </td>
              <td>
                {{extension.catalogName}} - {{extension.catalogTitle}}
              </td>
            </tr>
            <tr data-ng-show="searchResults.length < 1" class="bx--table-row">
              <td colspan="2" class="table-empty">{{::'noResults' | translate}}</td>
            </tr>
            <tr data-ng-show="searchError" class="bx--table-row">
              <td colspan="2" class="table-empty">{{searchError}}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="loadingAnimation38" data-ng-show="searchingForExtensions"></div>
    </section>
  </div>
  <div class="bx--modal__buttons">
    <div class="bx--modal__buttons-container layout-row">
      <button data-ng-click="cancel()" class="bx--btn--secondary" type="button">{{::'cancel' | translate}}</button>
      <button data-ng-click="add()" class="bx--btn" type="button" data-ng-disabled="!$parent.selectedExtension">{{::'done' | translate}}</button>
    </div>
  </div>
</form>
