<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<h2 class="bx--modal-content__heading" role="banner" aria-labelledby="{{$id}}_bannerHeading">{{::'api_import_swagger' | translate}}
</h2>
<button title="Close" class="bx--modal__close" type="button" data-ng-click="cancel();" tabindex="-1">
  <bx-icon class="bx--modal__close--icon" icon="close"></bx-icon>
</button>
<div class="bx--modal-content importDialog">
  <div class="detailsSection">
    <div data-ng-show="!fromUrl">
      <div class="layout">
        <div>
          <div class="material-icons">file_upload</div>
        </div>
        <div class="flex horizSpace">
          <div style="margin-top: 18px;">{{::'api_import_description' | translate}}</div>
          <apim-file-selector style="margin: 5px 0 0 15px;" property="swaggerFilename" selected-files="swaggerFiles" chosen="swaggerChosen"></apim-file-selector>
        </div>
      </div>
      <div style="margin-left: 64px;"><button class="textOnlyButton" data-ng-click="fromUrl = true">{{::'api_import_or_from_url' | translate}}</button></div>
    </div>
    <div data-ng-show="fromUrl">
      <div class="layout">
        <div class="material-icons">cloud_upload</div>
        <div class="flex horizSpace">
          <input type="password" style="display: none;" name="foilautofill" aria-hidden="true" title="nodisplay" />
          <bx-input-container class="fullWidth">
            <label>{{::'api_import_from_url_description' | translate}}</label>
            <input type="url" data-ng-model="data.importUrl" apim-auto-focus/>
          </bx-input-container>
        </div>
      </div>
      <div style="margin-left: 64px;">
        <div class="layout topMargin">
          <div class="bx--form__row-item">
            <label class=" bx--form__label">{{'username' | translate}}</label>
            <input class="bx--text__input" type="text" ng-model="urlUsername" />
          </div>
          <div class="bx--form__row-item">
            <label class="bx--form__label">{{'password' | translate}}</label>
            <input class="bx--text__input" type="password" ng-model="urlPassword" />
          </div>
        </div>
      </div>
      <div class="topExtraMargin" style="margin-left: 64px;"><button class="textOnlyButton" data-ng-click="fromUrl = false">{{::'api_import_or_from_file' | translate}}</button></div>
    </div>
    <div style="margin-top: 20px;">
      <bx-checkbox data-ng-model="createNewProduct" id="publish-checkbox" style="margin-left: 10px;">{{ ::'api_create_add_product' | translate}}</bx-checkbox>
      <div data-ng-show="createNewProduct" data-ng-include="'apim/products/partials/create-product-template.html'"></div>
    </div>
  </div>
  <div data-ng-class="{'spinner':importingApi}" data-ng-show="importingApi"></div>
</div>
<div class="bx--modal__buttons">
  <div class="bx--modal__buttons-container">
    <button class="bx--btn--secondary" type="button" data-ng-click="cancel()">{{::'cancel' | translate}}</button>
    <button class="bx--btn" type="button" data-ng-disabled="(!fromUrl && !swaggerChosen) || (fromUrl && !data.importUrl) || (createNewProduct && !productFormValid()) || importingApi"
      data-ng-click="import()">{{::'api_import_action' | translate}}</button>
  </div>
</div>
