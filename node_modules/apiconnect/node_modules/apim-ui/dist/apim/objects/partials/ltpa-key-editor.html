<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<div class="spinnerOverlay" data-ng-if="modifyingObject">
  <div class="spinner"></div>
</div>
<h2 class="bx--modal-content__heading" id="{{$id}}_bannerHeading">{{::dialogTitle | translate}}</h2>
<button class="bx--modal__close" type="button" data-modal-close data-ng-click="cancel()">
  <bx-icon class="bx--modal__close--icon" icon="close"></bx-icon>
</button>
<button title="Close" class="bx--modal__close" type="button" data-ng-click="cancel();" tabindex="-1">
  <bx-icon class="bx--modal__close--icon" icon="close"></bx-icon>
</button>
<div class="bx--modal-content">
  <form name="objectInfoForm" class="bx--form">
    <bx-input-container>
      <label>{{::"title" | translate}}</label>
      <input data-ng-model="ltpaKey.info.title" required data-ng-model-options="{debounce:200}" />
    </bx-input-container>
    <bx-input-container>
      <label>{{::"name" | translate}}</label>
      <input data-ng-model="ltpaKey.info.name" required data-ng-pattern="/^[a-z]+[a-z0-9]*(\-[a-z0-9]+)*$/" data-ng-model-options="{debounce:200}" />
    </bx-input-container>
    <bx-input-container>
      <label>{{::"version" | translate}}</label>
      <input data-ng-model="ltpaKey.info.version" required data-ng-model-options="{debounce:200}" />
    </bx-input-container>
    <bx-input-container>
      <label>{{::"description" | translate}}</label>
      <textarea data-ng-model="ltpaKey.info.description" data-ng-model-options="{debounce:200}"></textarea>
    </bx-input-container>
  </form>
  <form name="objectPropertiesForm" class="bx--form">
    <label class="bx--form__label-required bx--form__label" for="{{$id}}_ltpa_key_file">{{::'objects-ltpa-key-file' | translate}}</label>
    <apim-file-selector id="{{$id}}_ltpa_key_file" property="file" selected-files="files" chosen="fileChosen"></apim-file-selector>
    <input class="bx--text__input" style="display: none;" data-ng-model="ltpaKey.properties.file" required data-ng-model-options="{debounce:200}" title="{{::'objects-ltpa-key-file' | translate}}" />
    <bx-input-container class="fullWidth" style="margin-left: 0;">
      <label>{{::"objects-ltpa-key-password" | translate}}</label>
      <input type="password" data-ng-model="ltpaKey.properties.password" required data-ng-model-options="{debounce:200}" />
    </bx-input-container>
  </form>
</div>
<div class="bx--modal__buttons">
  <div class="bx--modal__buttons-container">
    <button data-ng-click="cancel()" class="bx--btn--secondary" type="button" data-ng-disabled="modifyingObject">
      {{::'cancel' | translate}}
    </button>
    <button data-ng-click="commit()" class="bx--btn" type="button" data-ng-disabled="!objectInfoForm.$valid || !objectPropertiesForm.$valid || modifyingObject">
      {{::'save' | translate}}
    </button>
  </div>
</div>
