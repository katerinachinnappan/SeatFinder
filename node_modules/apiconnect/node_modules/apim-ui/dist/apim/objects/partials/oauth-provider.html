<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<div class="layout whiteBackground sectionTitleBanner bx--inner__title">
  <button class="iconOnlyButton sectionToggle" data-ng-click="toggleToc();"  title="{{::'community-hide-menu' | translate}}"><span data-ng-class="{'rotate180': hideToc}" class="material-icons transition200">navigate_before</span></button>
  <span class="sectionTitle">{{::sectionTitle | translate}}</span>
</div>
<div class="secondaryBackground centerColumn apiSelfClear layout fullWidth searchBanner bx--inner__search__banner">
  <button class="bx--btn" data-ng-show="permissions['org_organizationManagement/manage']" data-ng-click="addItem($event);">
    {{::'add' | translate}}
    <bx-icon class="bx--btn--right-icon__icon" icon="add--glyph"></bx-icon>
  </button>
  <div class="displayInline itsAllRelative flex bx--search" role="search">
      <bx-icon class="bx--search__icon--magnifier" icon="search"></bx-icon>
      <label for="search__input" class="bx--search__label">Search</label>
    <input type="search" class="bx--search__input" id="search__input" aria-label="{{::'search' | translate}}" placeholder="{{::'search' | translate}}" data-ng-model="$parent.query">
    <button type="reset" class="iconOnlyButton" data-ng-click="$parent.query = '';" data-ng-show="query" title="{{::'resetFilter' | translate}}"><div class="closeIcon"></div></button>
  </div>
</div>

<div class="secondaryBackground centerColumn">
  <div class="bx--responsive-table-container">
    <table class="bx--responsive-table">
      <thead class="bx--table-head tableHeaderBackground bxTableHeader">
        <tr class="bx--table-row">
          <th class="bx--table-header bx--table-sort bxTablePaddingLeft" ng-class="{'bx--table-sort--ascending' : orderDirection, 'bx--table-sort-active' : orderProp == 'title'}" data-ng-click="orderProp = 'title'; orderDirection = !orderDirection;">
            <span>{{::'title' | translate}}</span>
            <bx-icon class="bx--table-sort__svg" icon="caret--down"></bx-icon>
          </th>
          <th class="bx--table-header bx--table-sort" ng-class="{'bx--table-sort--ascending' : orderDirection, 'bx--table-sort-active' : orderProp == 'provider-type'}" data-ng-click="orderProp = 'provider-type'; orderDirection = !orderDirection;">
            <span>{{::'objects-oauth-provider-type' | translate}}</span>
            <bx-icon class="bx--table-sort__svg" icon="caret--down"></bx-icon>
          </th>
          <th class="bx--table-header bx--table-sort" ng-class="{'bx--table-sort--ascending' : orderDirection, 'bx--table-sort-active' : orderProp == 'basePath'}" data-ng-click="orderProp = 'basePath'; orderDirection = !orderDirection;">
            <span>{{::'api_base_path' | translate}}</span>
            <bx-icon class="bx--table-sort__svg" icon="caret--down"></bx-icon>
          </th>
        </tr>
      </thead>
      <tbody class="bx--table-body">
        <tr class="bx--table-row bx--parent-row" data-ng-show="objects && objects.length === 0">
          <td class="bxTablePaddingLeft table-empty" colspan="3">{{::'objects-no-oauth-provider' | translate}}</td>
        </tr>
        <tr class="bx--table-row bx--parent-row" data-ng-show="objects && objects.length > 0 && filteredObjects.length === 0">
          <td class="bxTablePaddingLeft" colspan="3">{{::'objects-no-no-matching-oauth-provider' | translate}}</td>
        </tr>
        <tr class="bx--table-row bx--parent-row" ng-class-even="bx--parent-row--even" data-ng-repeat="object in filteredObjects = (objects |
        oauthProviderQuery: query | orderBy: orderProp: orderDirection)">
          <td class="bxTablePaddingLeft">
             <a class="documentNameLink" data-ng-click="editItem($event, object)" data-ng-bind-html="object.title | highlight: query"></a>
          </td>
          <td data-ng-bind-html="object['provider-type'] | highlight: query"></td>
          <td data-ng-bind-html="object.basePath | highlight: query"></td>
          <td>
            <button class="iconOnlyButton material-icons" data-ng-disabled="beingDeleted" title="{{::'ttDelete' | translate}}" data-ng-click="deleteItem(object,'objects-deleting-oauth-provider')" data-ng-show="offlineMode || permissions['org_draftApis/edit']">delete</button>
          </td>
        </tr>
      </tbody>
    </table>
    <div class="spinnerOverlay" data-ng-if="objects.$resolved === false">
    <div class="spinner"></div>
    </div>
  </div>
</div>
