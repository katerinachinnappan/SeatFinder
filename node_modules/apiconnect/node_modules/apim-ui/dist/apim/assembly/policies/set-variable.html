<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<div data-ng-controller="SetVariableController as ctrl" class="infoSection">
	<fieldset data-ng-disabled="selectedNode.$$readOnly || selectedNode.$$parentReadOnly">
		<div class="actionSeparator">
			<md-input-container>
				<label>{{::"assemblyTitle" | translate}}</label>
				<input data-ng-model="selectedNode.title" data-ng-model-options="{debounce:200}"/>
			</md-input-container>
			<md-input-container>
				<label>{{::"assemblyDescription" | translate}}</label>
				<textarea data-ng-model="selectedNode.description" data-ng-model-options="{debounce:200}"></textarea>
			</md-input-container>
		</div>
		<div class="actionSeparator" data-ng-repeat="action in selectedNode.actions" data-ng-controller="SetVariableActionController as actionCtrl">
			<md-input-container>
				<label>{{::"policy.set-variable.property.action.title" | translate}}</label>
				<md-select data-ng-disabled="selectedNode.$$readOnly || selectedNode.$$parentReadOnly" data-ng-model="actionValue" required>
					<md-option value="set">{{::"assemblyActionSet" | translate}}</md-option>
					<md-option value="add">{{::"assemblyActionAdd" | translate}}</md-option>
					<md-option value="clear">{{::"assemblyActionClear" | translate}}</md-option>
				</md-select>
				<div class="assemblyDescription">{{::"policy.set-variable.property.action.description" | translate}}</div>
			</md-input-container>
			<div data-ng-show="actionValue == 'set'">
				<md-input-container>
					<label>{{::"policy.set-variable.property.set.label" | translate}}</label>
					<input data-ng-model="action.set" data-ng-model-options="{debounce:200}"/>
					<div class="assemblyDescription">{{::"policy.set-variable.property.set.description" | translate}}</div>
				</md-input-container>
				<md-input-container>
					<label>{{::"policy.set-variable.property.type.label" | translate}}</label>
					<md-select data-ng-disabled="selectedNode.$$readOnly || selectedNode.$$parentReadOnly" data-ng-model="valueType" data-ng-change="actionCtrl.modifyValue();" required>
						<md-option value="string">string</md-option>
						<md-option value="number">number</md-option>
						<md-option value="boolean">boolean</md-option>
					</md-select>
					<div class="assemblyDescription">{{::"policy.set-variable.property.type.description" | translate}}</div>
				</md-input-container>
				<md-input-container data-ng-if="valueType == 'string'">
					<label>{{::"policy.set-variable.property.set.value.label" | translate}}</label>
					<input data-ng-model="action.value" data-ng-model-options="{debounce:200}"/>
					<div class="assemblyDescription">{{::"policy.set-variable.property.set.value.description" | translate}}</div>
				</md-input-container>
				<md-input-container data-ng-if="valueType == 'number'">
					<label>{{::"policy.set-variable.property.set.value.label" | translate}}</label>
					<input type="number" data-ng-model="action.value" data-ng-model-options="{debounce:200}"/>
					<div class="assemblyDescription">{{::"policy.set-variable.property.set.value.description" | translate}}</div>
				</md-input-container>
				<div data-ng-if="valueType == 'boolean'"> 
					<md-checkbox data-ng-disabled="selectedNode.$$readOnly || selectedNode.$$parentReadOnly" style="margin: 10px;" md-no-ink aria-label="{{::'policy.set-variable.property.set.value.label' | translate}}" data-ng-model="action.value" data-ng-model-options="{debounce: 200}" class="md-primary">
						<span>{{::"policy.set-variable.property.set.value.label" | translate}}</span>
					</md-checkbox>
					<div style="margin: 10px;" class="assemblyDescription">{{::"policy.set-variable.property.set.value.description" | translate}}</div>
				</div>
			</div>
			<div data-ng-show="actionValue == 'add'">
				<md-input-container>
					<label>{{::"policy.set-variable.property.add.label" | translate}}</label>
					<input data-ng-model="action.add" data-ng-model-options="{debounce:200}"/>
					<div class="assemblyDescription">{{::"policy.set-variable.property.add.description" | translate}}</div>
				</md-input-container>
				<md-input-container>
					<label>{{::"policy.set-variable.property.type.label" | translate}}</label>
					<md-select data-ng-disabled="selectedNode.$$readOnly || selectedNode.$$parentReadOnly" data-ng-model="valueType" data-ng-change="actionCtrl.modifyValue();" required>
						<md-option value="string">string</md-option>
						<md-option value="number">number</md-option>
						<md-option value="boolean">boolean</md-option>
					</md-select>
					<div class="assemblyDescription">{{::"policy.set-variable.property.type.description" | translate}}</div>
				</md-input-container>
				<md-input-container data-ng-if="valueType == 'string'">
					<label>{{::"policy.set-variable.property.add.value.label" | translate}}</label>
					<input data-ng-model="action.value" data-ng-model-options="{debounce:200}"/>
					<div class="assemblyDescription">{{::"policy.set-variable.property.add.value.description" | translate}}</div>
				</md-input-container>
				<md-input-container data-ng-if="valueType == 'number'">
					<label>{{::"policy.set-variable.property.add.value.label" | translate}}</label>
					<input type="number" data-ng-model="action.value" data-ng-model-options="{debounce:200}"/>
					<div class="assemblyDescription">{{::"policy.set-variable.property.add.value.description" | translate}}</div>
				</md-input-container>
				<div data-ng-if="valueType == 'boolean'"> 
					<md-checkbox data-ng-disabled="selectedNode.$$readOnly || selectedNode.$$parentReadOnly" style="margin: 10px;" md-no-ink aria-label="{{::'policy.set-variable.property.add.value.label' | translate}}" data-ng-model="action.value" data-ng-model-options="{debounce: 200}" class="md-primary">
						<span>{{::"policy.set-variable.property.add.value.label" | translate}}</span>
					</md-checkbox>
					<div style="margin: 10px;" class="assemblyDescription">{{::"policy.set-variable.property.add.value.description" | translate}}</div>
				</div>
			</div>
			<div data-ng-show="actionValue == 'clear'">
				<md-input-container>
					<label>{{::"policy.set-variable.property.clear.label" | translate}}</label>
					<input data-ng-model="action.clear" data-ng-model-options="{debounce:200}"/>
					<div class="assemblyDescription">{{::"policy.set-variable.property.clear.description" | translate}}</div>
				</md-input-container>
			</div>
			<button style="margin: 10px;" data-ng-click="ctrl.removeAction($index)" title="{{::'assemblyRemoveActionTitle' | translate}}">{{::'assemblyRemoveAction' | translate}}</button>
		</div>
		<button style="margin: 10px;" data-ng-click="ctrl.addAction()" title="{{::'assemblyAddActionTitle' | translate}}">{{::'assemblyAddAction' | translate}}</button>
	</fieldset>
</div>