<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<div data-ng-controller="RedactController as ctrl" class="infoSection">
	<fieldset data-ng-disabled="selectedNode.$$readOnly || selectedNode.$$parentReadOnly">
		<div class="actionSeparator">
			<md-input-container>
				<label>{{::"assemblyTitle" | translate}}</label>
				<input data-ng-model="selectedNode.title" data-ng-model-options="{debounce:200}"/>
			</md-input-container>
			<md-input-container>
				<label>{{::"assemblyDescription" | translate}}</label>
				<textarea data-ng-model="selectedNode.description" data-ng-model-options="{debounce:200}"></textarea>
			</md-input-container>
		</div>
		<div class="actionSeparator" data-ng-repeat="action in selectedNode.actions" data-ng-controller="RedactItemController as itemCtrl">
			<md-input-container>
				<label>{{::"policy.redact.property.path.label" | translate}}</label>
				<input apim-context data-ng-model="action.path" required data-ng-model-options="{debounce:200}"/>
				<div class="assemblyDescription">{{::"policy.redact.property.path.description" | translate}}</div>
			</md-input-container>
			<md-input-container>
				<label>{{::"policy.redact.property.action.label" | translate}}</label>
				<md-select data-ng-disabled="selectedNode.$$readOnly || selectedNode.$$parentReadOnly" data-ng-model="action.action" required>
					<md-option value="remove">{{::"assemblyRedactRemove" | translate}}</md-option>
					<md-option value="redact">{{::"assemblyRedactRedact" | translate}}</md-option>
				</md-select>
				<div class="assemblyDescription">{{::"policy.redact.property.action.description" | translate}}</div>
			</md-input-container>
			<md-chips style="display: inline-block; vertical-align: middle;" data-ng-model="action.from" md-autocomplete-snap md-require-match="true">
				<md-autocomplete md-min-length="0" md-search-text="itemCtrl.searchText" md-no-cache="true" md-items="fromItem in ['all', 'request', 'response', 'logs']" placeholder="{{::'assemblyRedactFrom' | translate}}">
					<md-item-template>
						<span md-highlight-text="itemCtrl.searchText">{{fromItem}}</span>
					</md-item-template>					
				</md-autocomplete>
				<md-chip-template>
					<span>{{$chip}}</span>
				</md-chip-template>
			</md-chips>
			<button style="margin: 10px;" data-ng-click="ctrl.removeRedact($index)" title="{{::'assemblyRemoveActionTitle' | translate}}">{{::'assemblyRemoveAction' | translate}}</button>
		</div>
		<button style="margin: 10px;" data-ng-click="ctrl.addRedact()" title="{{::'assemblyAddActionTitle' | translate}}">{{::'assemblyAddAction' | translate}}</button>
	</fieldset>
</div>