<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<div class="itsAllRelative"
     ng-if="currentSection == 'catalogs'">
  <div ng-if="environment.spaceEnabled"
       class="displayInline spaceDropdown">
    <div class="dropdown"
         dropdown
         data-is-open="spacesMenuIsOpen">
      <button class="iconOnlyButton dropdown-toggle"
              role="button"
              dropdown-toggle>
        <div class="nav-label">
          <div class="spaceMenu">
            <div class="boundedText"
                 title="{{::'env_space_menu' | translate}}">{{spaceId ? spaceName : environment.name}}</div>
            <div>&nbsp;({{(spaceId ? 'env_space_item_space' : 'env_space_item_catalog') | translate}})</div>
          </div>
          <span class="caret"></span>
        </div>
      </button>
      <ul class="dropdown-menu"
          role="menu"
          aria-label="{{::'env_space_menu' | translate}}"
          onkeypress="spacesMenuIsOpen = true;"
          tabindex="1">
        <li role="menuitem">
          <a href=""
             ng-click="setSpace('')"
             title="{{environment.name}}">{{environment.name}} ({{::'env_space_item_catalog' | translate}})</a>
        </li>
        <li role="menuitem"
            class="spaceIndent"
            ng-repeat="space in environment.spaces">
          <a href=""
             ng-click="setSpace(space.id)"
             title="{{space.title}}">{{space.title}} ({{::'env_space_item_space' | translate}})</a>
        </li>
      </ul>
    </div>
  </div>
  <a ng-show="location.hash.indexOf('catalogs') >= 0"
     title="{{::'allCatalogs' | translate}}"
     class="backLink"
     href="#/catalogs">
    <span class="material-icons smallIcon">arrow_back</span>
    <span class="showIfLargeScreen">{{::'allCatalogs' | translate}}</span>
  </a>
  <ul ng-if="currentSection == 'catalogs' && location.hash.split('/').length > 2"
      class="menuList">
    <li ng-class="{'selected': location.hash.indexOf('/products') >= 0}"
        ng-if="spaceId ? permissions[spaceId + '/space_productDeployment/view'] : permissions[environment.id + '/catalog_productDeployment/view']">
      <a ng-attr-href="#/catalogs/{{environment.id}}/{{spaceId ? 'spaces/' + spaceId + '/' : ''}}products"
         title="{{::'subsection-products' | translate}}">
        <h3>
              <span class="material-icons smallIcon"
                    style="margin-right:5px;"
                    aria-hidden="true">layers</span>
          <span class="showIfLargeScreen">{{::'subsection-products' | translate}}</span>
        </h3>
      </a>
    </li>
    <li ng-class="{'selected': location.hash.indexOf('/approvals') >= 0}"
        ng-if="spaceId ? permissions[spaceId + '/<<_approvalAnyAction_>>'] : permissions[environment.id + '/<<_approvalAnyAction_>>']">
      <a ng-attr-href="#/catalogs/{{environment.id}}/{{spaceId ? 'spaces/' + spaceId + '/' : ''}}approvals"
         title="{{::'subsection-approvals' | translate}}">
        <h3>
              <span class="material-icons smallIcon"
                    style="margin-right:5px;"
                    aria-hidden="true">check_all</span>
          <span class="showIfLargeScreen">{{::'subsection-approvals' | translate}}</span>
        </h3>
      </a>
    </li>
    <li ng-class="{'selected': location.hash.indexOf('/community') >= 0}"
        ng-if="spaceId ? permissions[spaceId + '/<<_communityViewSpace_>>'] : permissions[environment.id + '/<<_communityViewEnv_>>']">
      <a ng-attr-href="#/catalogs/{{environment.id}}/{{spaceId ? 'spaces/' + spaceId + '/' : ''}}community"
         title="{{::'subsection-community' | translate}}">
        <h3>
              <span class="material-icons smallIcon"
                    style="margin-right:5px;"
                    aria-hidden="true">dashboard</span>
          <span class="showIfLargeScreen">{{::'subsection-community' | translate}}</span>
        </h3>
      </a>
    </li>
    <li ng-class="{'selected': location.hash.indexOf('/users') >= 0}"
        ng-if="spaceId ? permissions[spaceId + '/space_members/view'] : permissions[environment.id + '/catalog_members/view']">
      <a ng-attr-href="#/catalogs/{{environment.id}}/{{spaceId ? 'spaces/' + spaceId + '/' : ''}}users"
         title="{{::'subsection-users' | translate}}">
        <h3>
              <span class="material-icons smallIcon"
                    style="margin-right:5px;"
                    aria-hidden="true">people</span>
          <span class="showIfLargeScreen">{{::'subsection-users' | translate}}</span>
        </h3>
      </a>
    </li>
    <li ng-class="{'selected': location.hash.indexOf('/analytics') >= 0}"
        ng-if="spaceId ? permissions[spaceId + '/space_spaceAnalytics/view'] : permissions[environment.id + '/catalog_environmentAnalytics/view']">
      <a ng-attr-href="#/catalogs/{{environment.id}}/{{spaceId ? 'spaces/' + spaceId + '/' : ''}}analytics"
         title="{{::'subsection-analytics' | translate}}">
        <h3>
              <span class="material-icons smallIcon"
                    style="margin-right:5px;"
                    aria-hidden="true">equalizer</span>
          <span class="showIfLargeScreen">{{::'subsection-analytics' | translate}}</span>
        </h3>
      </a>
    </li>
    <li ng-class="{'selected': location.hash.indexOf('/settings') >= 0}"
        ng-if="spaceId ? permissions[spaceId + '/space_spaceSettings/view'] : permissions[environment.id + '/catalog_catalogSettings/view']">
      <a ng-attr-href="#/catalogs/{{environment.id}}/{{spaceId ? 'spaces/' + spaceId + '/' : ''}}settings"
         title="{{::'subsection-settings' | translate}}">
        <h3>
              <span class="material-icons smallIcon"
                    style="margin-right:5px;"
                    aria-hidden="true">settings</span>
          <span class="showIfLargeScreen">{{::'subsection-settings' | translate}}</span>
        </h3>
      </a>
    </li>
  </ul>
</div>
