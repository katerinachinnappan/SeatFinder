<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<div class="bannerActions" data-ng-show="currentUser">
    <div class="dijitInline contentBox saveButton">
        <!--<button data-ng-disabled="productInFlux || !isDirty" data-ng-click="saveVersion();">{{'save' | translate}}</button>-->
        <div class="buttonAndLabel" style="position: relative; text-align: center;" title="{{'save' | translate}}">
            <button data-ng-disabled="!userForm.$dirty || userForm.$invalid" data-ng-click="saveUser()">{{'save' | translate}}</button>
        </div>
    </div>
</div>
<form name="userForm" class="detailsEditor">
    <div class="detailsContainer">
    	<div class="navigate-info detailsSection">
    		<h2>{{'account-details' | translate}}</h2>
    		<div class="editorBar">
                <md-input-container>
                    <label>{{'account-email' | translate}}</label>
                    <input title="{{::'account-email' | translate}}" data-ng-model="accountDetails.email" data-ng-disabled="currentUser.name != 'admin' || !currentUser.idpSummary.capabilities.updateEmail" required apim-auto-focus />
                </md-input-container>
            </div>
    		<div class="editorBar">
                <bx-input-container>
                    <label>{{'account-first-name' | translate}}</label>
                    <input title="{{::'account-first-name' | translate}}" data-ng-model="accountDetails.firstName" data-ng-disabled="!currentUser.idpSummary.capabilities.updateProfile" required/>
                </bx-input-container>
                <bx-input-container>
                    <label>{{'account-last-name' | translate}}</label>
                    <input title="{{::'account-last-name' | translate}}" data-ng-model="accountDetails.lastName" data-ng-disabled="!currentUser.idpSummary.capabilities.updateProfile" required/>
                </bx-input-container>
            </div>
        </div>
    </div>
    <div class="detailsContainer"  data-ng-hide="!currentUser.idpSummary.capabilities.userUpdatePassword">
        <div class="navigate-info detailsSection">
            <h2>{{'account-change-password' | translate}}</h2>
            <div class="editorBar">
                <bx-input-container>
                    <label>{{'account-current-password' | translate}}</label>
                    <input type="password" title="{{::'account-current-password' | translate}}" data-ng-model="currentPassword" data-ng-required="accountDetails.passwordChangeRequired || newPassword || newPasswordVerify"/>
                </bx-input-container>
                <bx-input-container>
                    <label>{{'account-new-password' | translate}}</label>
                    <input type="password" title="{{::'account-new-password' | translate}}" data-ng-model="newPassword" data-ng-required="(currentPassword != null && currentPassword != '') || accountDetails.passwordChangeRequired"/>
                    <span class="error" ng-show="newPassword && !validatePassword(newPassword)">{{'signUpPasswordRules' | translate}}</span>
                </bx-input-container>
                <bx-input-container>
                    <label>{{'account-verify-new-password' | translate}}</label>
                    <input type="password" title="{{::'account-verify-new-password' | translate}}" name="newPasswordVerify" data-ng-model="newPasswordVerify" data-ng-required="(newPassword != null && newPassword != '') || accountDetails.passwordChangeRequired" compare-to="newPassword"/>
                    <span class="error" ng-show="newPassword && newPasswordVerify !== newPassword">{{'account-verfiy-new-password-error' | translate}}</span>
                </bx-input-container>
            </div>
        </div>
    </div>
</form>
