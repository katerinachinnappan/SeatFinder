/********************************************************* {COPYRIGHT-TOP} ***
 * Licensed Materials - Property of IBM
 * 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
 *
 * (C) Copyright IBM Corporation 2016, 2017
 *
 * All Rights Reserved.
 * US Government Users Restricted Rights - Use, duplication or disclosure
 * restricted by GSA ADP Schedule Contract with IBM Corp.
 ********************************************************** {COPYRIGHT-END} **/
// Node module: apim-ui

'use strict';

/**
  *
  * @ngdoc module
  * @name bluemix.components
  *
  * @description
  *
  * Bluemix Carbon Components module.
  *
  **/
  angular.module('bluemix.components')
/**
  *
  * @ngdoc component
  * @name bluemix.components.component:bxInputCurrency
  *
  * @description
  *
  * Input currency creates an <input type="number"/> element following
  * bluemix carbon styles, provides arrows to manipulate
  *
  * @example
  *
  * <bx-input-currency
  *   ng-model="hours"
  *   min="0"
  *   max="23"
  * />
  *
  * @param {Number} min minimum value for the input value
  * @param {Number} max maximum value for the input value
  * @param {Model} ngModel the model it binds to
  *
  **/
  .component('bxInputCurrency', {
    bindings: {
      min: '@',
      max: '@',
      ngModel: '=',
      ngModelOptions: '=?'
    },
    templateUrl: 'apim/bluemix/components/input-currency/input-currency.html',
    controller: function() {
      var getterSetter, min, max, $ctrl = this;

      $ctrl.$onInit = function() {
        $ctrl.ngModelOptions = $ctrl.ngModelOptions || {};
        getterSetter = ($ctrl.ngModelOptions &&
          $ctrl.ngModelOptions.getterSetter &&
          typeof $ctrl.ngModel === 'function') || false;
        min = isFinite($ctrl.min) ? Number($ctrl.min) : false;
        max = isFinite($ctrl.max) ? Number($ctrl.max) : false;
      };
    }
  });
