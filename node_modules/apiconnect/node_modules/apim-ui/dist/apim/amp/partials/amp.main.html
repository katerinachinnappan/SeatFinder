<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<ul class="amp-menu-bar"
  ng-click="changeState(state==='normalize'?'minimize':'normalize')">
  <li class="amp-menu-bar-controls">
    <button ng-click="start($event)" ng-show="!isRunning()"
      ng-disabled="disableControls"
      ng-attr-title="{{'ampStartServer'|translate}}">
      <span class="material-icons">play_arrow</span>
    </button>
    <button ng-click="stop($event)" ng-show="isRunning()"
      ng-disabled="disableControls"
      ng-attr-title="{{'ampStopServer'|translate}}">
      <span class="material-icons">stop</span>
    </button>
    <button ng-click="restart($event)" ng-show="isRunning()"
      ng-disabled="disableControls"
      ng-attr-title="{{'server_restart'|translate}}">
      <span class="material-icons">refresh</span>
    </button>
  </li>

  <li>
    <div ng-show="!disableControls" class="runner-status runner-status-{{status().id}}">
      <i class="loading-icon" ng-show="isStarting()"></i>
      {{ status().label | translate }}
    </div>
    <div ng-show="disableControls && statusMessage != ''" class="runner-status-busy">
			<i class="loading-icon"></i>
      <span class="busy-message" translate>{{statusMessage}}</span>
    </div>
  </li>
  <li class="amp-process-list">
    <div class="process-entry" ng-show="gatewayUrl"
      ng-repeat="process in (gwProcess = processes | filter:{gw:true})">
      {{ ::'microGateway' | translate }}:
      <a class="app-url" target="_blank" href="{{ gatewayUrl }}">
        {{ ::gatewayUrl }}
      </a>
    </div>
  </li>
  <li class="amp-process-list">
    <div class="process-entry"
      ng-repeat="process in (gwProcess = processes | filter:{gw:false})">
      {{ ::'application' | translate }}:
      <a class="app-url" target="_blank" href="{{ process.url }}">
        {{ ::process.url }}
      </a>
    </div>
  </li>

  <li class="fill"></li>

  <li class="amp-menu-bar-controls right" ng-show="state!=='normalize'">
    <button ng-click="maximize($event)" ng-show="state!=='maximize'"
      ng-attr-title="{{'ampShowLogsFull'|translate}}">
      <span class="material-icons">add_to_queue</span>
    </button>
    <button ng-click="minimize($event)" ng-show="state!=='minimize'"
      ng-attr-title="{{'ampShowLogsMin'|translate}}">
      <span class="material-icons">remove_from_queue</span>
    </button>
    <button ng-click="normalize($event)"
      ng-attr-title="{{'ampHideLogs'|translate}}">
      <span class="material-icons">close</span>
    </button>
  </li>

  <li class="right">
    <button ng-attr-title="{{'ampShowLogs'|translate}}">
      <span class="material-icons">settings</span>
    </button>
  </li>
</ul>

<div class="amp-body-main" ng-class="'amp-body-'+state" ng-if="state!=='normalize'">
  <apic-amp-logs processes="logProcesses" get-logs="isRunning()"></apic-amp-logs>
</div>
