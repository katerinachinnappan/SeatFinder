<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<div class="policy transition200 primaryBorder" data-ng-class="{unselectedCollectionContent: !showPolicyDetails}" data-ng-controller="EnvironmentPolicyController as policyController">
	<div class="header clickable" data-ng-click="showPolicyDetails = !showPolicyDetails;">
		<button class="iconOnlyButton" title="{{::'ttExpand' | translate}}"><div class="dijitInline webapiIcon maximizeIcon transition200" data-ng-class="{'rotate270': !showPolicyDetails}" style="margin-top: -2px;"></div></button>
	 	<a href="javascript:void(0);" class="displayInline documentNameLinkLight" data-ng-bind-html="policy.title | highlight: query"></a>
		<a href="javascript:void(0);" class="displayInline documentNameLinkLight" data-ng-bind-html="policy.bracketedName | highlight: query"></a>
	</div>
	<div data-ng-show="showPolicyDetails">
		<div style="padding-left: 0px;" class="tableHeaderBackground apiSelfClear">
			<div class="column managePolicyExpanderColumn"></div><div
				class="column managePolicyNameColumn">{{::'policyName' | translate}}</div><div
				class="column managePolicyVersionColumn">{{::'policyVersion' | translate}}</div><div
				class="column floatRight" style="margin-right: 7px;">{{::'apiActions' | translate}}</div>
		</div>
		<ul class="policyVersions">
		<li data-ng-repeat="policyVersion in (policies | filter: { name: policy.name } | orderBy: 'updatedAt': 'reverse')">
		    <apim-environment-policy-version></apim-environment-policy-version>
		</li>
		</ul>
	</div>
</div>
