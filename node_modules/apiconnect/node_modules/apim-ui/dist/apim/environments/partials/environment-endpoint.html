<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<section class="endpointDropzone" data-ui-on-drop="endpointDropped($data, $index)"></section>
<div class="catalogEndpoint productPlanEditor secondaryBorder all" style="margin:10px;" data-ng-controller="EnvironmentEndpointController as environmentEndpointCtrl">
  <section class="productSection secondaryBorder all secondaryBackground secondaryHighlight" style="padding: 10px;"  data-drag="endpoint" data-ui-draggable="true">
    <div class="productSettingsTitle displayInline alignTop drag-handle" style="max-width: 90%;">
      <div style="font-size: large;">{{(endpoint.displayName)}}</div>
    </div><div class="productSettingsDelete floatRight">
      <button data-ng-show="environment.endpoints.length > 2 && $index != 0" class="mediumButton iconOnlyButton" data-ng-click="endpointDropped(endpoint, $index-1);" title="{{::'move_up' | translate}}">
        <div class="material-icons">arrow_upward</div>
      </button>
      <button data-ng-show="environment.endpoints.length > 2 && $index != environment.endpoints.length-1" class="mediumButton iconOnlyButton" data-ng-click="endpointDropped(endpoint, $index+2);" title="{{::'move_down' | translate}}">
        <div class="material-icons">arrow_downward</div>
      </button>
      <button class="mediumButton iconOnlyButton" data-ng-click="deleteEndpoint(endpoint);" title="{{::'ttDelete' | translate}}">
        <div class="material-icons">delete</div>
      </button>
    </div>
  </section>
  <section class="productSection" style="padding: 10px 20px;">
    <div class="halfColumn displayInline">
      <md-input-container class="fullWidth alignTop" data-ng-click="$event.stopPropagation()">
        <label for="{{$id}}_endpointTitle">{{::'title' | translate}}</label>
        <input id="{{$id}}_endpointTitle" data-ng-model="endpoint.displayName" style="width: 90%;"/>
      </md-input-container>
      <md-input-container class="fullWidth alignTop" data-ng-click="$event.stopPropagation()">
        <label for="{{$id}}_endpointName">{{::'name' | translate}}</label>
        <input id="{{$id}}_endpointName" data-ng-model="endpoint.name" style="width: 90%;"/>
      </md-input-container>
      <md-input-container class="fullWidth alignTop" data-ng-click="$event.stopPropagation()">
        <label for="{{$id}}_endpointHost">{{::'host' | translate}}</label>
        <input id="{{$id}}_endpointHost" data-ng-model="endpoint.endpointUrl" style="width: 90%;"/>
      </md-input-container>
      <md-input-container class="fullWidth alignTop" data-ng-click="$event.stopPropagation()">
        <label for="{{$id}}_endpointDescription">{{::'description' | translate}}</label>
        <input id="{{$id}}_endpointDescription" data-ng-model="endpoint.description" style="width: 90%;"/>
      </md-input-container>
      <md-input-container class="md-input-has-value fullWidth alignTop">
        <label for="{{$id}}_endpointType">{{::'supported_application_types' | translate}}</label>
        <select id="{{$id}}_endpointType" data-ng-model="endpointType" data-ng-options="type.value as type.name for type in types" style="width: 90%;"></select>
      </md-input-container>
    </div><div class="halfColumn displayInline alignTop">
      <div>Gateways</div>
      <div data-ng-repeat="gateway in gatewayClusters | clustersInEndpoint: endpoint">
        <div>
          <span>{{gateway.name}}</span>
          <button class="iconOnlyButton material-icons" style="vertical-align: top;" title="{{::'delete' | translate}}" data-ng-click="confirmDeleteGateway(gateway);">delete</button>
        </div>
        <div>{{gateway.hostname}}</div>
      </div>
      <div>
        <button data-ng-click="showAddGatewayDialog();" class="textOnlyButton" role="button" title="{{::'add' | translate}}"><span class="material-icons buttonIcon">add_circle_outline</span>{{::'add' | translate}}</button>
      </div>
    </div>
  </section>
</div>
