<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<div class="card primaryBorder" data-ng-controller="ApprovalController">
	<div class="approvalResolution {{approval.status}}">
		<div class="approval apiSelfClear">
			<div class="displayInline alignTop approveRequestedByColumn">
				<span>{{approval.status | approvalStatus}}</span><span>&nbsp;{{resolution.displayName}}</span>
			</div><div class="displayInline alignTop approveRequestToColumn">
			</div><div class="displayInline alignTop approveSubmittedColumn">{{resolution.date | since}}
			</div><div class="displayInline clickable approveComment" title="{{::'approvalsShowComment' | translate}}" data-ng-show="resolution.comment" data-ng-click="showComment = !showComment">
			  <div class="material-icons">comment</div>
			</div>
		</div>
		<div class="approval" data-ng-show="showComment">{{resolutionComment}}</div>
	</div>
	<div class="approval apiSelfClear">
		<div class="displayInline alignTop approveRequestedByColumn">
      <span class="tableLabel">{{::'approvalsUser' | translate}}:&nbsp;</span>
      <div data-ng-show="approval.taskType == 'productDeploymentApproval'" data-ng-bind-html="approval.creatorName | highlight: query"></div>
      <div data-ng-show="approval.taskType == 'productDeploymentApproval'" class="secondaryText">{{approval.creatorUsername}}</div>
      <div data-ng-show="approval.taskType == 'planSubscriptionApproval'" data-ng-bind-html="approval.taskProperties.developerOrg | highlight: query"></div>
      <div data-ng-show="approval.taskType == 'planSubscriptionApproval'" class="secondaryText" data-ng-bind-html="approval.taskProperties.appName | highlight: query"></div>
      <div data-ng-show="approval.taskType == 'appPromotionApproval'" data-ng-bind-html="approval.creatorName | highlight: query"></div>
      <div data-ng-show="approval.taskType == 'appPromotionApproval'" class="secondaryText">{{approval.creatorUsername}}</div>
    </div><div class="displayInline alignTop approveRequestToColumn">
			<span class="tableLabel">{{::'approvalsAction' | translate}}:&nbsp;</span>
      <span data-ng-bind-html="approval.operationLabel | highlight: query"></span>
      <span data-ng-if="!approval.taskProperties.secondaryResource">
        <span class="bold" data-ng-bind-html="approval.primaryProduct.productName | highlight: query"></span>
        <span class="bold">{{approval.primaryProduct.version}}</span>
      </span>
      <div data-ng-show="approval.taskType == 'planSubscriptionApproval'" class="secondaryText">{{approval.taskProperties.planTitle}}</div>
			<span data-ng-if="approval.taskProperties.secondaryResource">
        <span class="bold" data-ng-bind-html="approval.taskProperties.secondaryResource.productName | highlight: query"></span>
        <span class="bold">{{approval.taskProperties.secondaryResource.version}}</span> {{::'approvalsWith' | translate}}
        <span class="bold" data-ng-bind-html="approval.primaryProduct.productName | highlight: query"></span>
        <span class="bold">{{approval.primaryProduct.version}}</span>
			</span>
		</div><div class="displayInline alignTop approveSubmittedColumn">
		  <span class="tableLabel">{{::'approvalsRequested' | translate}}:&nbsp;</span>{{approval.updatedAt | since}}
		</div><div class="floatRight approveActionsColumn">
				<button class="iconOnlyButton" data-ng-show="approvable" title="{{::'approvalApprove' | translate}}" data-ng-click="approveRequest()"><div class="material-icons">check_circle</div></button>
				<button class="iconOnlyButton" data-ng-show="rejectable" title="{{::'approvalReject' | translate}}" data-ng-click="rejectRequest()"><div class="material-icons">cancel</div></button>
				<button class="iconOnlyButton" data-ng-show="cancelable" title="{{::'approvalCancel' | translate}}" data-ng-click="cancelRequest()"><div class="material-icons">close</div></button>
			</div>
	</div>
</div>
