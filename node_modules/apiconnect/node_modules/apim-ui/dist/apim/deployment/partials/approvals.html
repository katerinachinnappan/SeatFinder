<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<div class="centerColumn absolutelyFabulous fullHeightMinusBanner secondaryBackground" data-ng-controller="ApprovalsController">
	<div class="ng-hide" data-ng-show="!environment && envChecked">
		<div class="stickyNote">{{::'catalog_not_exist' | translate}}</div>
	</div>
		<div class="approvals" data-ng-show="envLoaded && (permissions[spaceId ? environment.id + '/<<_approvalAnySpace_>>/view' : '<<_approvalAnyEnv_>>/view'] || permissions['org_planSubscriptions/view'])">
			<div class="layout fullWidth searchBanner">
        <div class="displayInline itsAllRelative flex bx--search" role="search">
            <bx-icon class="bx--search__icon--magnifier" icon="search"></bx-icon>
            <label for="search__input" class="bx--search__label">Search</label>
          <input type="search" class="bx--search__input" id="search__input" aria-label="{{::'approvals_search' | translate}}" placeholder="{{::'approvals_search' | translate}}" data-ng-model="query" data-ng-disabled="!approvals.$resolved">
          <button type="reset" class="iconOnlyButton" data-ng-click="query = ''" data-ng-show="query" title="{{::'resetFilter' | translate}}">
            <div class="closeIcon"></div>
          </button>
        </div>
			</div>
			<div class="expanded">
	      <div class="secondaryBackground listingColumn bxTableBackground stretch">
	        <div data-ng-show="!xhrProcessing" class="tableHeaderBackground apiSelfClear bxTableHeader">
	          <div tabindex="0" class="column sortable approveRequestedByColumn" data-ng-class="{ascendingSort: orderProp == 'displayName' && !orderDirection, descendingSort: orderProp == 'displayName' && orderDirection}" data-ng-keypress="orderProp = 'displayName'; orderDirection = !orderDirection;" data-ng-click="orderProp = 'displayName'; orderDirection = !orderDirection;">{{::'approvalsUser' | translate}}
            </div><div tabindex="0" class="column sortable approveRequestToColumn" data-ng-class="{ascendingSort: orderProp == 'operationLabel' && !orderDirection, descendingSort: orderProp == 'operationLabel' && orderDirection}" data-ng-keypress="orderProp = 'operationLabel'; orderDirection = !orderDirection;" data-ng-click="orderProp = 'operationLabel'; orderDirection = !orderDirection;">{{::'approvalsAction' | translate}}
	          </div><div tabindex="0" class="column sortable approveSubmittedColumn" data-ng-class="{ascendingSort: orderProp == 'updatedAt' && !orderDirection, descendingSort: orderProp == 'updatedAt' && orderDirection}" data-ng-keypress="orderProp = 'updatedAt'; orderDirection = !orderDirection;" data-ng-click="orderProp = 'updatedAt'; orderDirection = !orderDirection;">{{::'approvalsRequested' | translate}}
	          </div><div class="column floatRight approveActionsColumn">{{::'apiActions' | translate}}
	          </div>
	        </div>
	        <div data-ng-class="{'spinner': xhrProcessing}"></div>
	        <ul class="simpleList">
	          <li data-ng-repeat="approval in filteredApprovals = (approvals.slice().reverse() | approvalQuery: query | orderBy: orderProp: orderDirection)"
              ng-class-even="'bxTableRowEven'" ng-class-odd="'bxTableRowOdd'">
	            <apim-approval></apim-approval>
	          </li>
	          <li class='emptyCollectionMessage xlargePadding' data-ng-show="!xhrProcessing && filteredApprovals && filteredApprovals.length == 0">
	            {{approvals | approvalsNoApprovals}}
	          </li>
	        </ul>
	      </div>
			</div>
		</div>
</div>
