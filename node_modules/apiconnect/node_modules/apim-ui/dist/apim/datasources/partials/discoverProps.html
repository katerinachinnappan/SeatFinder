<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<h2 class="bx--modal-content__heading">{{::'DSDSelectProps'|translate}}: {{::vm.table.name}}</h2>
<h4 class="bx--modal-content__label" translate="DSDSelectPropsInstr"></h4>
<button title="Close" class="bx--modal__close" type="button" data-ng-click="vm.cancel();" tabindex="-1">
  <bx-icon class="bx--modal__close--icon" icon="close"></bx-icon>
</button>
<div class="bx--modal-content bx--datasource-modal">
  <div class="bx--responsive-table-container">
    <table class="bx--responsive-table">
      <thead class="bx--table-head tableHeaderBackground bxTableHeader">
      <tr class="bx--table-row">
        <th class="bx--table-header bxTablePaddingLeft">
          <bx-checkbox ng-click="vm.toggleAll()" aria-label="{{::'selectAll'|translate}}" />
        </th>
        <th class="bx--table-header" translate="propertyName"></th>
        <th class="bx--table-header" translate="type"></th>
        <th class="bx--table-header" translate="required"></th>
        <th class="center bx--table-header bxTablePaddingRight" translate="id"></th>
      </tr>
      </thead>
      <tbody class="bx--table-body">
      <tr ng-show="vm.xhrProcessing">
        <td colspan="5">
          <div ng-class="{spinner:vm.xhrProcessing}"></div>
        </td>
      </tr>
      <tr class="bx--table-row bx--parent-row" ng-class-even="'bx--parent-row--even'" ng-repeat="(name, prop) in vm.props" ng-show="!vm.xhrProcessing">
        <td class="bxTablePaddingLeft">
          <bx-checkbox ng-click="vm.select(name, prop)" ng-checked="vm.selected.indexOf(name)>-1"
                       ng-disabled="prop.required"
                       aria-label="{{::'select'|translate}}"
                       title="{{::(prop.required?'DSDSelectPropReq':'select')|translate}}"/>
        </td>
        <td>
          <bx-input-container>
            <input ng-model="name" ng-disabled="1"
                   aria-label="{{::'propertyName'|translate}}" />
          </bx-input-container>
        </td>
        <td>
          <bx-input-container>
            <input ng-model="prop.type" ng-disabled="1"
                   aria-label="{{::'propertyType'|translate}}" />
          </bx-input-container>
        </td>
        <td class="center">
          <bx-checkbox ng-model="prop.required" ng-disabled="1" aria-label="{{::'required'|translate}}" />
        </td>
        <td class="center bxTablePaddingRight">
          <bx-checkbox ng-checked="prop.id" ng-disabled="1" aria-label="{{::'id'|translate}}"/>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
<div class="bx--modal__buttons">
  <div class="bx--modal__buttons-container">
    <button class="bx--btn--secondary" type="button" ng-click="vm.cancel()">{{::'cancel'|translate}}</button>
    <button class="bx--btn" type="button" ng-click="vm.submit()" ng-disabled="!vm.selected">{{::'select'|translate}}</button>
  </div>
</div>
