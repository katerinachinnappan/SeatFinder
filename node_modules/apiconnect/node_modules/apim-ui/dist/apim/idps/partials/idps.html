<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<div class="webapi">
<section apic-save-key="saveIDP()" class="idpsCollection centerColumn absolutelyFabulous" data-ng-controller="IDPsCtrl as idpsController">
	<div data-ng-class="{'spinner': !idpsLoaded}"></div>
	<div data-ng-show="idpsLoaded">
		<div class="actionSection apiSelfClear">
			<span class="actionLabel">{{::'idps' | translate}}</span>
 			<div class="buttonArea">
                <div class="displayInline dropdown registryMenu" data-is-open="idpCreateMenuIsOpen" dropdown>
                    <button role="button" class="dropdown-toggle" dropdown-toggle data-ng-disabled="!permissions['org_organizationManagement/manage']">{{::'add' | translate}}</button>
                    <ul class="dropdown-menu pull-right" role="menu" aria-label="{{::'environmentIdentityProvider' | translate}}" tabindex="0" onkeypress="idpCreateMenuIsOpen = true;">
                        <li role="menuitem" class="registryMenuItem" data-ng-show="permissions['org_organizationManagement/manage']"><a href="javascript:void(0)" data-ng-click="newLdapProfile()">{{::'idpNewLdapProfile' | translate}}</a></li>
                        <li role="menuitem" class="registryMenuItem" data-ng-show="permissions['org_organizationManagement/manage'] && isAPIM"><a href="javascript:void(0)" data-ng-click="newLdapProfileAPIOnly()">{{::'idpNewLdapProfileAPIOnly' | translate}}</a></li>
                        <li role="menuitem" class="registryMenuItem" data-ng-show="permissions['org_organizationManagement/manage']"><a href="javascript:void(0)" data-ng-click="newAuthUrlProfile()">{{::'idpNewAuthUrlRegistry' | translate}}</a></li>
                        <li role="menuitem" class="registryMenuItem" data-ng-show="permissions['org_organizationManagement/manage'] && isAPIM"><a href="javascript:void(0)" data-ng-click="newLocalProfile()">{{::'idpNewLocalRegistry' | translate}}</a></li>
                        <li role="menuitem" class="registryMenuItem" data-ng-show="permissions['org_organizationManagement/manage'] && isAPIM"><a href="javascript:void(0)" data-ng-click="newScimProfile()">{{::'idpNewScimUserRegistry' | translate}}</a></li>
                    </ul>
                </div>
				<button data-ng-click="saveIDP()" data-ng-disabled="saveDisabled" data-ng-show="(permissions['org_organizationManagement/manage'] && selectedIDP.orgId) || isCMC">{{::'save' | translate}}</button>
			</div>
		</div>
	    <div class="actionSection leftColumnMobileReplacement">
	        <select aria-label="{{::'selectUserRegistry' | translate}}" data-ng-model="selectedIDP" data-ng-options="option as option.name for option in idps" data-ng-disabled="!idps.$resolved"></select>
	    </div>
	    <div class="leftColumnSize whiteBackground stretch">
	        <ul class="idps" style="margin: 0;">
	            <li data-ng-repeat="idp in idps" data-ng-init="$parent.selectedIDP = idps[0]">
	                <div class="roleList idpList">
	                    <div class="roleListItem" data-ng-class="{selected: $parent.selectedIDP.id == idp.id}" data-ng-click="$parent.selectedIDP = idp">
	                        <div class="dijitInline" style="width: calc(100% - 34px);">
	                            <div class="displayName">{{idp.title || idp.name | getDisplayNameforIDP}}</div>
	                            <div class="description">{{idp.description}}</div>
	                        </div>
	                        <div class="dijitInline floatRight" data-ng-show="(permissions['org_organizationManagement/manage'] && idp.orgId) || isCMC">
	                            <button class="iconOnlyButton" title="{{::'ttDelete' | translate}}" data-ng-disabled="beingDeleted" data-ng-click="confirmDeleteIDP($index)"><div class="material-icons">delete</div></button>
	                        </div>
	                    </div>
	                </div>
	            </li>
	        </ul>
	    </div><div class="dijitInline detailsPage">
	        <apim-idp></apim-idp>
	    </div>
   	</div>
</section>
</div>
