/********************************************************* {COPYRIGHT-TOP} ***
 * Licensed Materials - Property of IBM
 * 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
 *
 * (C) Copyright IBM Corporation 2015, 2017
 *
 * All Rights Reserved.
 * US Government Users Restricted Rights - Use, duplication or disclosure
 * restricted by GSA ADP Schedule Contract with IBM Corp.
 ********************************************************** {COPYRIGHT-END} **/
// Node module: apim-ui

'use strict';

var idps = angular.module('apim.idps');

idps.filter('getDisplayNameforIDP', ['translateFilter', function(translateFilter) {
  return function (name) {
    var localisedName = name;
    if(name == "IBMDBIdentityProvider") {
      localisedName = translateFilter("builtInIdentityProvider");
    }else if(name == "IBMSAMLIdentityProvider") {
      localisedName = translateFilter("ibmIdIdentityProvider");
    }
    return localisedName;
  };
}]);

idps.filter('hasScope', function() {
  return function (scopeList, findScopes) {
    var ret = false;
    var scopesToFind = findScopes.split(" ");
    var len = scopesToFind.length;
    for (var i=0;i<len;i++) {
      var scope = scopesToFind[i];
      if (scopeList.indexOf(scope) != -1) {
        ret = true;
        break;
      }
    } // end for
    return ret;
  };
});

idps.filter('exampleName', ['translateFilter', function(translateFilter) {
  return function (displayName, scope, message) {
    if (!displayName) {
      displayName = translateFilter("authUrlDisplayName");
    }
    var ret = translateFilter(message, {"authUrlName": displayName});
    return ret;
  };
}]);

idps.filter('ldapRegistries', function() {
  return function(registries) {
    if (!registries) return [];
    return registries.filter(function(registry) {
      return (registry.type == "ldap");
    });
  }
})

