<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<div class="subscriptionView" data-ng-class="{backgroundDisabled: beingDeleted}" data-ng-controller="SubscriptionProdController as subscriptionProdController">
	<div class="card primaryBorder prod" data-ng-class="{'open': showSubscriptionDetails}">
		<div class="subscriptionSummary clickable" data-ng-click="$event.originalEvent.dropdown || (showSubscriptionDetails = !showSubscriptionDetails)" tabindex="-1">
			<div class="displayInline alignTop boundedText subscriptionProductsColumn">
				<a href="javascript:;" class="displayInline bold" title="{{subscription.product.title}}" data-ng-click="showSubscriptionDetails = !showSubscriptionDetails; $event.stopPropagation();" data-ng-bind-html="subscription.product.title | highlight: query"></a>
				<span>{{subscription.product.version}}</span>
			</div><div class="displayInline alignTop subscriptionPlanColumn">
				<span class="bold">{{subscription.plan.title}}</span>
			</div><div class="displayInline alignTop subscriptionActionsColumn" data-ng-click="$event.stopPropagation();" tabindex="-1">
				<div class="displayInline dropdown publishMenu" dropdown data-is-open="publishIsOpen">
					<button class="iconOnlyButton dropdown-toggle menuDropdown" data-ng-click="$event.originalEvent.dropdown = true" role="button" title="{{::'ttManage' | translate}}" dropdown-toggle><div class="material-icons">more_horiz</div></button>
					<ul class="dropdown-menu pull-right" role="menu" onkeypress="publishIsOpen" aria-label="{{::'ttManage' | translate}}">
						<li role="menuitem" class="publishingMenuItem" aria-label="{{::'subscriptionsProdAnalytics' | translate}}"><a href="javascript:;" data-ng-click="prodAnalytics();">{{::'subscriptionsProdAnalytics' | translate}}</a></li>
					</ul>
				</div>
			</div>
		</div>
		<div class="subscriptionList" data-ng-show="showSubscriptionDetails">
			<div class="tableHeaderBackground apiSelfClear">
				<div class="column subscriptionProductColumn">{{::'subscriptionsApplications' | translate}}
				</div><div class="column subscriptionDevColumn">{{::'subscriptionsDevelopers' | translate}}
				</div><div class="column subscriptionSubActionColumn"></div>
			</div>
			<ul class="subscriptionsList" data-ng-if="subscription.subs.length > 0">
				<li data-ng-repeat="sub in subscription.subs">
					<div class="sub secondaryBorder secondaryHighlight">
						<div class="displayInline subscriptionProductColumn">
							<div class="subscriptionIcon" data-ng-attr-style="{{sub.appImageUrlStyle}}"></div><div class="displayInline appName">
								<div class="displayInline boundedText bold">{{sub.application.appName}}</div>
								<div>{{sub.application.clientId}}</div>
							</div>
						</div><div class="displayInline subscriptionDevColumn">
							<a href="#/catalogs/{{environment.id}}/developers/{{sub.consumerOrg.id}}" style="width: 95%;" class="displayInline boundedText bold">{{sub.consumerOrg.displayName}}</a>
						</div><div class="displayInline subscriptionSubActionColumn">
							<button class="iconOnlyButton" role="button" title="{{::'subscriptionsAnalytics' | translate}}"><div class="material-icons smallishIcon">equalizer</div></button>
						</div>
					</div>
				</li>
			</ul>
		</div>
	</div>
</div>
