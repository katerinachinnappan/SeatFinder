<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<div class="subscriptionsCollection centerColumn absolutelyFabulous fullHeightMinusBanner secondaryBackground" data-ng-controller="SubscriptionsController as subscriptionsController">
	<div class="ng-hide" data-ng-show="!environment && envChecked">
		<div class="stickyNote">{{::'catalog_not_exist' | translate}}</div>
	</div>
	<div data-ng-class="{'spinner': ((!envLoaded && !envChecked) || (!subscriptionsLoaded && environment))}"></div>
	<div data-ng-show="envLoaded && subscriptionsLoaded">
		<div class="apiSelfClear whiteBackground layout fullWidth searchBanner">
	        <div class="displayInline itsAllRelative flex">
	            <input type="search" aria-label="{{::'subscriptionsSearch' | translate}}" placeholder="{{::'subscriptionsSearch' | translate}}" data-ng-model="query" data-ng-disabled="!rawSubscriptions.$resolved"/>
	            <button type="reset" class="iconOnlyButton" data-ng-click="query = ''" data-ng-show="query" title="{{::'resetFilter' | translate}}"><div class="closeIcon"></div></button>
	        </div>
			<div class="displayInline buttonArea" style="line-height: 50px;">
	            <ul>
	                <li class="displayInline">
	                    <button style="padding-bottom: 7px;" data-ng-class="{'selected': !view || view == 'app'}" data-ng-click="setView('app')" class="iconOnlyButton" title="{{::'subscriptionsApplicationView' | translate}}"><div class="material-icons" aria-label="{{::'subscriptionsApplicationView' | translate}}">settings_applications</div></button>
	                </li>
	                <li class="displayInline">
	                    <button style="padding-bottom: 7px;" data-ng-class="{'selected': view == 'product'}" data-ng-click="setView('product')" class="iconOnlyButton" title="{{::'subscriptionsProductView' | translate}}"><div class="material-icons" aria-label="{{::'subscriptionsProductView' | translate}}">layers</div></button>
	                </li>
	            </ul>
			</div>
		</div>
		<div class="oneColumn" data-ng-if="!view || view == 'app'">
			<button class="incidentalButton" data-ng-click="createApp();">{{::'appsAddApp' | translate}}</button>
			<div class="clearBoth"></div>
			<div class="tableHeaderBackground apiSelfClear">
				<div class="column subscriptionIconColumn"></div><div
					class="column subscriptionNameColumn">{{::'subscriptionsApplications' | translate}}</div><div
					class="column subscriptionCountColumn">{{::'subscriptions' | translate}}</div><div
					class="column subscriptionDevColumn">{{::'subscriptionsDevelopers' | translate}}</div><div
					class="column subscriptionActionsColumn"></div>
			</div>
			<ul class="subscriptions">
				<li class='emptyCollectionMessage xlargePadding' style="padding: 10px 68px;" data-ng-show="subscriptionsLoaded && filteredSubscriptions && filteredSubscriptions.length == 0">{{rawSubscriptions | noSubscriptions}}</li>
				<li data-ng-repeat="subscription in filteredSubscriptions = (subscriptionsApp | subscriptionsQuery: query | orderBy: orderProp: orderDirection)">
					<apim-subscription></apim-subscription>
				</li>
			</ul>
		</div>
		<div class="oneColumn" data-ng-if="view == 'product'">
			<div class="tableHeaderBackground apiSelfClear">
				<div class="column subscriptionProductsColumn">{{::'subscriptionsProducts' | translate}}</div><div
					class="column subscriptionPlanColumn">{{::'subscriptionsPlan' | translate}}</div><div
					class="column subscriptionActionsColumn"></div>
			</div>
			<ul class="subscriptions">
				<li class='emptyCollectionMessage xlargePadding' style="padding: 10px 68px;" data-ng-if="subscriptionsLoaded && filteredSubscriptions && filteredSubscriptions.length == 0">{{rawSubscriptions | noSubscriptions}}</li>
				<li data-ng-repeat="subscription in filteredSubscriptions = (subscriptionsProd | subscriptionsQuery: query | orderBy: orderProp: orderDirection)">
					<apim-subscription-prod></apim-subscription-prod>
				</li>
			</ul>
		</div>
	</div>
</div>
