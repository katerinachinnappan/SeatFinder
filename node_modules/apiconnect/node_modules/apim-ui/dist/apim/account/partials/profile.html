<!--
/********************************************************* {COPYRIGHT-TOP} ***
* Licensed Materials - Property of IBM
* 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
*
* (C) Copyright IBM Corporation 2017
*
* All Rights Reserved.
* US Government Users Restricted Rights - Use, duplication or disclosure
* restricted by GSA ADP Schedule Contract with IBM Corp.
********************************************************** {COPYRIGHT-END} **/
-->
<div class="bannerActions account-profile" ng-show="currentUser">
  <div class="dijitInline contentBox saveButton">
    <button class="bx--btn bx--btn--sm" type="button" title="{{'save' | translate}}" ng-disabled="!userForm.$dirty || userForm.$invalid" ng-click="saveUser()">{{'save' | translate}}</button>
  </div>
</div>
<form name="userForm" class="detailsEditor">
  <div class="detailsContainer">
    <div class="navigate-info detailsSection">
      <span class="bx--form__legend" >
          {{'account-details' | translate}}
      </span>
      <div>
        <bx-input-container>
          <label>{{'account-email' | translate}}</label>
          <input ng-model="accountDetails.email" ng-disabled="currentUser.name != 'admin' || !currentUser.idpSummary.capabilities.updateEmail" required apim-auto-focus />
        </bx-input-container>
      </div>
      <bx-input-container>
        <label>{{'account-first-name' | translate}}</label>
        <input ng-model="accountDetails.firstName" ng-disabled="!currentUser.idpSummary.capabilities.updateProfile" required/>
      </bx-input-container>
      <bx-input-container>
        <label>{{'account-last-name' | translate}}</label>
        <input ng-model="accountDetails.lastName" ng-disabled="!currentUser.idpSummary.capabilities.updateProfile" required/>
      </bx-input-container>
    </div>
  </div>
  <div class="detailsContainer" ng-hide="!currentUser.idpSummary.capabilities.userUpdatePassword">
    <div class="navigate-info detailsSection">
      <span class="bx--form__legend" >
          {{'account-change-password' | translate}}
      </span>
      <div class="bx--form__row-item">
        <label class="bx--form__label-required bx--form__label">{{'account-current-password' | translate}}</label>
        <input class="bx--text__input" type="password" ng-model="currentPassword" ng-required="accountDetails.passwordChangeRequired || newPassword || newPasswordVerify"/>
      </div>
      <div class="bx--form__row-item">
        <label class="bx--form__label-required bx--form__label">{{'account-new-password' | translate}}</label>
        <input class="bx--text__input" type="password" ng-model="newPassword" ng-required="(currentPassword != null && currentPassword != '') || accountDetails.passwordChangeRequired"/>
        <span class="error" ng-show="newPassword && !validatePassword(newPassword)">{{'signUpPasswordRules' | translate}}</span>
      </div>
      <div class="bx--form__row-item">
        <label class="bx--form__label-required bx--form__label">{{'account-verify-new-password' | translate}}</label>
        <input class="bx--text__input" type="password" name="newPasswordVerify" ng-model="newPasswordVerify" compare-to="newPassword" ng-required="(newPassword != null && newPassword != '') || accountDetails.passwordChangeRequired"/>
        <span class="error" ng-show="newPassword && newPasswordVerify !== newPassword">{{'account-verfiy-new-password-error' | translate}}</span>
      </div>
    </div>
  </div>
</form>
