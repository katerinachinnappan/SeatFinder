/********************************************************* {COPYRIGHT-TOP} ***
 * Licensed Materials - Property of IBM
 * 5725-Z22, 5725-Z63, 5725-U33, 5725-Z63
 *
 * (C) Copyright IBM Corporation 2016, 2017
 *
 * All Rights Reserved.
 * US Government Users Restricted Rights - Use, duplication or disclosure
 * restricted by GSA ADP Schedule Contract with IBM Corp.
 ********************************************************** {COPYRIGHT-END} **/
// Node module: apiconnect-cli-auth

/*eslint brace-style: 0, max-len: 0*/


var g = require('strong-globalize')();

module.exports = {
  name: 'auth',
  version: require('../package.json').version,
  path: __filename,
  isBuiltin: true,
  topics: getTopics,
  components: getComponents,
};

function getTopics() {
  return [ {
    name: 'auth',
    description: 'Login/Logout to an API Connect Cloud',
    commands: [ {
      command: 'login',
      aliases: [ 'login' ],
      helpInfo: function() {
        return g.f('apic_auth_login_help.txt');
      },
      action: function(opts) {
        return require('./login').loginCmd(opts);
      },
      options: [
        '-u --username <username>',
        '-p --password <password>',
        '-s --server <server[:port]>',
        '-c --passcode <passcode>',
        '-k --apikey <apikey>',
        '--sso',
      ],
    }, {
      command: 'logout',
      aliases: [ 'logout' ],
      helpInfo: function() {
        return g.f('apic_auth_logout_help.txt');
      },
      action: function(opts) {
        return require('./logout').logoutCmd(opts);
      },
      options: [
        '-s, --server <server>',
      ],
    } ],
  } ];
};

function getComponents() {
  return [
    {
      name: 'auth-agent',
      ctor: require('./auth-agent'),
    },
  ];
};

