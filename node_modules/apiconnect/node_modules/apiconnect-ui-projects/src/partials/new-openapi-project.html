<h2 class="bx--modal-content__heading no-animate" ng-show="!projectsFilepicker.show">{{::'projectNewOpenApi' | translate}}</h2>
<h2 class="bx--modal-content__heading no-animate" ng-if="projectsFilepicker.flow == 'add-loopback' || projectsFilepicker.flow == 'add-openapi'" ng-show="projectsFilepicker.show">{{::'projectSelectFolder' | translate}}</h2>
<button title="Close" class="bx--modal__close" type="button" ng-disabled="isSubmittingProject"         data-ng-click="cancelAddProject(true)" tabindex="-1">
  <bx-icon class="bx--modal__close--icon" icon="close"></bx-icon>
</button>
<div class="bx--modal-content bx--add-openapi-modal no-animate" ng-show="!projectsFilepicker.show">
  <form id="new-project-form" class="bx--form" name="form" novalidate>
    <div class="bx--select labeledSelect" ng-if="enableTemplateSelection">
      <label class="bx--form__label" for="new-project-template">{{::'projectTemplate' | translate}}</label>
      <select
        class="bx--select__input"
        aria-label="{{::'api_path_parameter_in' | translate}}"
        ng-model="newProject.templateName"
        id="new-project-template"
        name="templateName"
        required>
        <option class="bx--select__option" ng-value="templateName" ng-repeat="templateName in projectTemplates">{{templateName}}</option>
      </select>
      <bx-icon class="bx--select__arrow" icon="caret--down"></bx-icon>
    </div>
    <bx-input-container>
      <label for="new-project-display-name">{{::'projects_add_label_display' | translate}}</label>
      <input type="text"
             ng-model="newProject.displayName"
             id="new-project-display-name"
             name="displayName"
             unique-project-attrib="displayName"
             required/>
      <div ng-messages="form.displayName.$error">
        <div class="bx--form__requirements" ng-message="required">{{::'projects_add_field_required' | translate}}</div>
        <div class="bx--form__requirements" ng-message="unique-project-displayName">{{::'projects_invalid_displayName' | translate:duplicateProject}}</div>
      </div>
    </bx-input-container>
    <bx-input-container>
      <label for="new-project-name">{{::'projects_add_label_name' | translate}}</label>
      <input type="text"
             ng-model="newProject.name"
             id="new-project-name"
             name="name"
             unique-project-attrib="name"
             readonly
             required/>
      <div ng-messages="form.name.$error">
        <div class="bx--form__requirements" ng-message="required">{{::'projects_add_field_required' | translate}}</div>
        <div class="bx--form__requirements" ng-message="unique-project-name">{{::'projects_invalid_name' | translate:duplicateProject}}</div>
      </div>
    </bx-input-container>
    <label class="bx--form__label-required bx--form__label" for="new-project-path">{{::'projects_add_label_directory' | translate}}</label>
    <div class="displayInline itsAllRelative flex">
      <input type="text"
             class="bx--text__input"
             ng-model="newProject.path"
             id="new-project-path"
             name="path"
             unique-project-attrib="path"
             placeholder="{{::'browseFolders' | translate}}"
             ng-click="openFilepicker()"
             readonly
             required/>
      <button class="bx--btn open-filepicker" ng-click="openFilepicker()">{{::'browse' | translate}}</button>
    </div>
    <div ng-messages="form.path.$error">
      <div class="bx--form__requirements" ng-message="required">{{::'projects_add_field_required' | translate}}</div>
      <div class="bx--form__requirements" ng-message="unique-project-path">{{::'projects_invalid_path' | translate:duplicateProject}}</div>
    </div>
  </form>
</div>
<div class="bx--modal-content filepicker no-animate" ng-class="projectsFilepicker.flow" ng-show="projectsFilepicker.show">
  <apim-projects-filepicker
    project="newProject"
    projects-filepicker="projectsFilepicker"
    update-path="updatePath(path)"
    cancel-add-project="cancelAddProject()"
    add-path-to-project="addPathToProject"></apim-projects-filepicker>
</div>
<div class="bx--modal__buttons">
  <div class="bx--modal__buttons-container no-animate" ng-show="!projectsFilepicker.show">
    <button class="bx--btn--secondary"
            ng-click="cancelAddProject(true)"
            type="button">{{::'cancel' | translate}}</button>
    <button class="bx--btn" ng-click="addOpenApiProject(form)" ng-disabled="isSubmittingProject">{{::'add' | translate}}</button>
  </div>
  <div class="bx--modal__buttons-container no-animate" ng-show="projectsFilepicker.show">
    <button class="bx--btn--secondary"
            ng-click="cancelAddProject(false)">{{::'cancel' | translate}}</button>
    <button class="bx--btn" ng-click="addPathToProject()">{{::'ok' | translate}}</button>
  </div>
</div>
